2021-02-21 10:53:53,910 WARN  [org.keycloak.events] (default task-26) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=0452453b-da1a-4b2d-a0f6-040469539485, authSessionParentId=0452453b-da1a-4b2d-a0f6-040469539485, authSessionTabId=z-ciPLuQ7q0
2021-02-21 10:55:17,965 WARN  [org.keycloak.events] (default task-27) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=0452453b-da1a-4b2d-a0f6-040469539485, authSessionParentId=0452453b-da1a-4b2d-a0f6-040469539485, authSessionTabId=z-ciPLuQ7q0
2021-02-21 10:55:41,298 WARN  [org.keycloak.events] (default task-27) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=0452453b-da1a-4b2d-a0f6-040469539485, authSessionParentId=0452453b-da1a-4b2d-a0f6-040469539485, authSessionTabId=z-ciPLuQ7q0
2021-02-21 10:55:58,394 WARN  [org.keycloak.events] (default task-31) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=0452453b-da1a-4b2d-a0f6-040469539485, authSessionParentId=0452453b-da1a-4b2d-a0f6-040469539485, authSessionTabId=z-ciPLuQ7q0
2021-02-21 10:58:04,080 WARN  [org.keycloak.events] (default task-26) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/theme-settings, code_id=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionParentId=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionTabId=JxNn-KUZrMk
2021-02-21 10:59:59,353 WARN  [org.keycloak.events] (default task-26) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/theme-settings, code_id=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionParentId=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionTabId=JxNn-KUZrMk
2021-02-21 11:03:29,034 WARN  [org.keycloak.events] (default task-39) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/theme-settings, code_id=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionParentId=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionTabId=JxNn-KUZrMk
2021-02-21 11:04:56,945 WARN  [org.keycloak.events] (default task-40) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_registration, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/theme-settings, code_id=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionParentId=76c4fc00-1415-402e-8a9e-fc06ec745bf1, authSessionTabId=JxNn-KUZrMk
2021-02-21 11:49:15,048 ERROR [org.keycloak.services] (default task-44) KC-SERVICES0029: Failed to send email: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.toInternetAddress(DefaultEmailSenderProvider.java:167)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:126)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendVerifyEmail(FreeMarkerEmailTemplateProvider.java:176)
	at org.keycloak.authentication.requiredactions.VerifyEmail.sendVerifyEmail(VerifyEmail.java:160)
	at org.keycloak.authentication.requiredactions.VerifyEmail.requiredActionChallenge(VerifyEmail.java:81)
	at org.keycloak.services.managers.AuthenticationManager.executeAction(AuthenticationManager.java:1184)
	at org.keycloak.services.managers.AuthenticationManager.lambda$executionActions$10(AuthenticationManager.java:1132)
	at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)
	at java.util.stream.SortedOps$RefSortingSink.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.DistinctOps$1$2.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(Unknown Source)
	at java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.util.stream.FindOps$FindOp.evaluateSequential(Unknown Source)
	at java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.util.stream.ReferencePipeline.findFirst(Unknown Source)
	at org.keycloak.services.managers.AuthenticationManager.executionActions(AuthenticationManager.java:1133)
	at org.keycloak.services.managers.AuthenticationManager.actionRequired(AuthenticationManager.java:1034)
	at org.keycloak.services.managers.AuthenticationManager.nextActionAfterAuthentication(AuthenticationManager.java:888)
	at org.keycloak.services.resources.LoginActionsService.processRequireAction(LoginActionsService.java:995)
	at org.keycloak.services.resources.LoginActionsService.requiredActionGET(LoginActionsService.java:977)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 11:49:15,083 ERROR [org.keycloak.authentication.requiredactions.VerifyEmail] (default task-44) Failed to send verification email: org.keycloak.email.EmailException: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendVerifyEmail(FreeMarkerEmailTemplateProvider.java:176)
	at org.keycloak.authentication.requiredactions.VerifyEmail.sendVerifyEmail(VerifyEmail.java:160)
	at org.keycloak.authentication.requiredactions.VerifyEmail.requiredActionChallenge(VerifyEmail.java:81)
	at org.keycloak.services.managers.AuthenticationManager.executeAction(AuthenticationManager.java:1184)
	at org.keycloak.services.managers.AuthenticationManager.lambda$executionActions$10(AuthenticationManager.java:1132)
	at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)
	at java.util.stream.SortedOps$RefSortingSink.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.DistinctOps$1$2.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(Unknown Source)
	at java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.util.stream.FindOps$FindOp.evaluateSequential(Unknown Source)
	at java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.util.stream.ReferencePipeline.findFirst(Unknown Source)
	at org.keycloak.services.managers.AuthenticationManager.executionActions(AuthenticationManager.java:1133)
	at org.keycloak.services.managers.AuthenticationManager.actionRequired(AuthenticationManager.java:1034)
	at org.keycloak.services.managers.AuthenticationManager.nextActionAfterAuthentication(AuthenticationManager.java:888)
	at org.keycloak.services.resources.LoginActionsService.processRequireAction(LoginActionsService.java:995)
	at org.keycloak.services.resources.LoginActionsService.requiredActionGET(LoginActionsService.java:977)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.toInternetAddress(DefaultEmailSenderProvider.java:167)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:126)
	... 101 more

2021-02-21 11:49:15,097 WARN  [org.keycloak.events] (default task-44) type=SEND_VERIFY_EMAIL_ERROR, realmId=master, clientId=account-console, userId=c43d24a8-80fd-4afe-88d7-c5cae06d8094, ipAddress=127.0.0.1, error=email_send_failed, auth_method=openid-connect, response_type=code, redirect_uri=http://localhost:8080/auth/realms/master/account/#/personal-info, remember_me=false, code_id=095ac5b3-8927-4fdb-8394-8b0b3d4b47aa, email=eng.lastace2021@yahoo.com, response_mode=fragment, username=eng.lastace2021@yahoo.com, authSessionParentId=095ac5b3-8927-4fdb-8394-8b0b3d4b47aa, authSessionTabId=OIT9wXwXtR0
2021-02-21 12:11:15,486 INFO  [org.jboss.as.repository] (DeploymentScanner-threads - 2) WFLYDR0001: Content added at location F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\data\content\0e\e4a6dd01b59993ea1ede8b426e65e87fd9bea2\content
2021-02-21 12:11:15,513 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" (runtime-name: "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar")
2021-02-21 12:11:15,848 WARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-8) WFLYSRV0221: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a deprecated module ("javax.api") which may be removed in future versions without notice.
2021-02-21 12:11:15,849 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.apache.httpcomponents.core") which may be changed or removed in future versions without notice.
2021-02-21 12:11:15,850 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.keycloak.keycloak-server-spi-private") which may be changed or removed in future versions without notice.
2021-02-21 12:11:15,850 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.keycloak.keycloak-services") which may be changed or removed in future versions without notice.
2021-02-21 12:11:15,866 INFO  [org.keycloak.subsystem.server.extension.KeycloakProviderDeploymentProcessor] (MSC service thread 1-4) Deploying Keycloak provider: worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar
2021-02-21 12:11:15,878 WARN  [org.keycloak.services] (MSC service thread 1-4) KC-SERVICES0047: sms-authenticator (worldofss.keycloak.authenticator.SmsAuthenticatorFactory) is implementing the internal SPI authenticator. This SPI is internal and may change without notice
2021-02-21 12:11:16,035 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" (runtime-name : "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar")
2021-02-21 12:15:00,543 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-56) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: ?????? ?????? ???? ??? ?????? 610582  
2021-02-21 12:16:49,824 ERROR [org.keycloak.services] (default task-58) KC-SERVICES0029: Failed to send email: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.toInternetAddress(DefaultEmailSenderProvider.java:167)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:126)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendVerifyEmail(FreeMarkerEmailTemplateProvider.java:176)
	at org.keycloak.authentication.requiredactions.VerifyEmail.sendVerifyEmail(VerifyEmail.java:160)
	at org.keycloak.authentication.requiredactions.VerifyEmail.requiredActionChallenge(VerifyEmail.java:81)
	at org.keycloak.services.managers.AuthenticationManager.executeAction(AuthenticationManager.java:1184)
	at org.keycloak.services.managers.AuthenticationManager.lambda$executionActions$10(AuthenticationManager.java:1132)
	at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)
	at java.util.stream.SortedOps$RefSortingSink.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.DistinctOps$1$2.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(Unknown Source)
	at java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.util.stream.FindOps$FindOp.evaluateSequential(Unknown Source)
	at java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.util.stream.ReferencePipeline.findFirst(Unknown Source)
	at org.keycloak.services.managers.AuthenticationManager.executionActions(AuthenticationManager.java:1133)
	at org.keycloak.services.managers.AuthenticationManager.actionRequired(AuthenticationManager.java:1034)
	at org.keycloak.services.managers.AuthenticationManager.nextActionAfterAuthentication(AuthenticationManager.java:888)
	at org.keycloak.services.resources.LoginActionsService.processRequireAction(LoginActionsService.java:995)
	at org.keycloak.services.resources.LoginActionsService.requiredActionGET(LoginActionsService.java:977)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:16:49,833 ERROR [org.keycloak.authentication.requiredactions.VerifyEmail] (default task-58) Failed to send verification email: org.keycloak.email.EmailException: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendVerifyEmail(FreeMarkerEmailTemplateProvider.java:176)
	at org.keycloak.authentication.requiredactions.VerifyEmail.sendVerifyEmail(VerifyEmail.java:160)
	at org.keycloak.authentication.requiredactions.VerifyEmail.requiredActionChallenge(VerifyEmail.java:81)
	at org.keycloak.services.managers.AuthenticationManager.executeAction(AuthenticationManager.java:1184)
	at org.keycloak.services.managers.AuthenticationManager.lambda$executionActions$10(AuthenticationManager.java:1132)
	at java.util.stream.ReferencePipeline$3$1.accept(Unknown Source)
	at java.util.stream.SortedOps$RefSortingSink.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.DistinctOps$1$2.end(Unknown Source)
	at java.util.stream.Sink$ChainedReference.end(Unknown Source)
	at java.util.stream.AbstractPipeline.copyIntoWithCancel(Unknown Source)
	at java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.util.stream.FindOps$FindOp.evaluateSequential(Unknown Source)
	at java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.util.stream.ReferencePipeline.findFirst(Unknown Source)
	at org.keycloak.services.managers.AuthenticationManager.executionActions(AuthenticationManager.java:1133)
	at org.keycloak.services.managers.AuthenticationManager.actionRequired(AuthenticationManager.java:1034)
	at org.keycloak.services.managers.AuthenticationManager.nextActionAfterAuthentication(AuthenticationManager.java:888)
	at org.keycloak.services.resources.LoginActionsService.processRequireAction(LoginActionsService.java:995)
	at org.keycloak.services.resources.LoginActionsService.requiredActionGET(LoginActionsService.java:977)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: org.keycloak.email.EmailException: Please provide a valid address
	at org.keycloak.email.DefaultEmailSenderProvider.toInternetAddress(DefaultEmailSenderProvider.java:167)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:126)
	... 101 more

2021-02-21 12:16:49,843 WARN  [org.keycloak.events] (default task-58) type=SEND_VERIFY_EMAIL_ERROR, realmId=master, clientId=security-admin-console, userId=dd9338eb-9311-45de-b1d2-c01910205155, ipAddress=127.0.0.1, error=email_send_failed, auth_method=openid-connect, response_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/authentication/flow-bindings, remember_me=false, code_id=0cd283d2-7dab-4cee-809a-ed37e0a0a52d, email=eng.osama2021@gmail.com, response_mode=fragment, username=eng.osama2021@gmail.com, authSessionParentId=0cd283d2-7dab-4cee-809a-ed37e0a0a52d, authSessionTabId=eebqoEQoMk0
2021-02-21 12:17:06,755 WARN  [org.keycloak.services] (default task-53) KC-SERVICES0013: Failed authentication: org.keycloak.authentication.AuthenticationFlowException: authenticator: sms-authenticator
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:441)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:253)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:389)
	at org.keycloak.authentication.DefaultAuthenticationFlow.continueAuthenticationAfterSuccessfulAction(DefaultAuthenticationFlow.java:186)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:164)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.GeneratedMethodAccessor676.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:17:06,786 WARN  [org.keycloak.events] (default task-53) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=0cd283d2-7dab-4cee-809a-ed37e0a0a52d, username=eng.osama2021@gmail.com, authSessionParentId=0cd283d2-7dab-4cee-809a-ed37e0a0a52d, authSessionTabId=zBL9IfwxEyE
2021-02-21 12:17:16,220 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-57) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: ?????? ?????? ???? ??? ?????? 577714  
2021-02-21 12:25:12,209 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-61) SQL Error: 23505, SQLState: 23505
2021-02-21 12:25:12,209 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-61) Unique index or primary key violation: "UK_DYKN684SL8UP1CRFEI6ECKHD7_INDEX_B ON PUBLIC.USER_ENTITY(REALM_ID, EMAIL_CONSTRAINT) VALUES ('master', 'ohassouna@worldofss.com', 4)"; SQL statement:
update USER_ENTITY set CREATED_TIMESTAMP=?, EMAIL=?, EMAIL_CONSTRAINT=?, EMAIL_VERIFIED=?, ENABLED=?, FEDERATION_LINK=?, FIRST_NAME=?, LAST_NAME=?, NOT_BEFORE=?, REALM_ID=?, SERVICE_ACCOUNT_CLIENT_LINK=?, USERNAME=? where ID=? [23505-197]
2021-02-21 12:25:12,298 ERROR [org.hibernate.internal.ExceptionMapperStandardImpl] (default task-61) HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2021-02-21 12:25:12,299 WARN  [com.arjuna.ats.arjuna] (default task-61) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple< 0:ffffc0a8017b:-1c23d8be:60310c71:fc97, org.wildfly.transaction.client.AbstractTransaction$AssociatingSynchronization@51d15386 >: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1478)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:512)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3310)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2506)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)
	at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.beforeCompletion(JtaTransactionCoordinatorImpl.java:352)
	at org.hibernate.resource.transaction.backend.jta.internal.synchronization.SynchronizationCallbackCoordinatorNonTrackingImpl.beforeCompletion(SynchronizationCallbackCoordinatorNonTrackingImpl.java:47)
	at org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:37)
	at org.wildfly.transaction.client.AbstractTransaction.performConsumer(AbstractTransaction.java:236)
	at org.wildfly.transaction.client.AbstractTransaction.performConsumer(AbstractTransaction.java:247)
	at org.wildfly.transaction.client.AbstractTransaction$AssociatingSynchronization.beforeCompletion(AbstractTransaction.java:292)
	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:360)
	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:91)
	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1295)
	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)
	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:94)
	at org.wildfly.transaction.client.LocalTransaction.commitAndDissociate(LocalTransaction.java:78)
	at org.wildfly.transaction.client.ContextTransactionManager.commit(ContextTransactionManager.java:71)
	at org.keycloak.transaction.JtaTransactionWrapper.commit(JtaTransactionWrapper.java:92)
	at org.keycloak.services.DefaultKeycloakTransactionManager.commit(DefaultKeycloakTransactionManager.java:136)
	at org.keycloak.services.resources.admin.UserResource.updateUser(UserResource.java:186)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3376)
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3249)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3650)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:146)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1472)
	... 102 more
Caused by: org.h2.jdbc.JdbcSQLException: Unique index or primary key violation: "UK_DYKN684SL8UP1CRFEI6ECKHD7_INDEX_B ON PUBLIC.USER_ENTITY(REALM_ID, EMAIL_CONSTRAINT) VALUES ('master', 'ohassouna@worldofss.com', 4)"; SQL statement:
update USER_ENTITY set CREATED_TIMESTAMP=?, EMAIL=?, EMAIL_CONSTRAINT=?, EMAIL_VERIFIED=?, ENABLED=?, FEDERATION_LINK=?, FIRST_NAME=?, LAST_NAME=?, NOT_BEFORE=?, REALM_ID=?, SERVICE_ACCOUNT_CLIENT_LINK=?, USERNAME=? where ID=? [23505-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.index.BaseIndex.getDuplicateKeyException(BaseIndex.java:101)
	at org.h2.mvstore.db.MVSecondaryIndex.requireUnique(MVSecondaryIndex.java:236)
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:202)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:732)
	at org.h2.table.Table.updateRows(Table.java:509)
	at org.h2.command.dml.Update.update(Update.java:177)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:199)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:153)
	at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:537)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)
	... 111 more

2021-02-21 12:26:02,169 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 84 more

2021-02-21 12:26:02,205 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:26:02,207 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:26:02,208 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:26:02,209 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:26:02,209 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:26:02,210 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:26:02,210 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:26:02,211 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:26:02,211 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:26:02,211 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:26:02,212 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:26:02,212 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:26:02,213 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:26:02,213 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:26:02,213 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:26:02,214 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:26:02,215 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:26:02,216 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:26:02,216 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:26:02,217 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:26:02,217 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:26:02,218 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:26:02,218 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:26:02,219 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:26:02,219 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:26:02,220 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:26:02,220 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:26:02,221 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:26:02,224 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:26:02,225 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:26:02,225 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:26:02,226 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:26:02,226 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:26:02,227 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:26:02,227 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:26:02,228 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:26:02,228 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:26:02,229 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:26:02,229 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:26:02,230 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:26:02,231 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:26:02,231 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:26:02,232 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:26:02,233 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:26:02,233 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:02,234 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:26:02,234 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:26:02,235 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:26:02,235 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:02,236 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:26:02,236 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:26:02,237 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:26:02,240 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:26:02,240 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:26:02,241 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:26:02,241 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:02,242 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:26:02,242 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:02,243 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:26:02,243 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:26:02,244 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:02,244 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:26:02,245 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:26:02,245 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:26:02,246 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:26:02,246 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:26:02,247 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:26:02,247 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:26:02,248 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:02,248 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:02,249 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:02,249 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:02,250 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:26:02,250 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:26:02,251 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:26:02,251 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:26:02,252 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:26:02,256 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:26:02,256 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:26:02,257 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:26:02,258 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:26:02,258 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:26:02,259 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:26:02,259 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:26:02,260 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:26:02,260 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:26:02,261 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:26:02,261 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:26:02,262 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:26:02,263 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:26:02,263 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:26:02,264 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:26:02,265 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:26:02,265 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:26:02,266 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:26:02,266 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:26:02,266 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:26:02,267 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:26:02,268 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:26:02,268 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:26:02,269 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:26:02,272 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:26:02,272 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:26:02,273 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:26:02,273 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:26:02,274 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:26:02,274 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:26:02,275 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:26:02,275 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:26:02,276 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:26:02,276 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:26:02,277 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:26:02,277 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:26:02,278 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:26:02,278 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:26:18,047 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0179.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:26:18,052 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0179.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:26:18,052 ERROR [stderr] (default task-62) 
2021-02-21 12:26:18,053 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:26:18,053 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:26:18,054 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:26:18,055 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:26:18,055 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:26:18,056 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:26:18,056 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:26:18,056 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:26:18,057 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:26:18,058 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:26:18,058 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:26:18,059 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:26:18,059 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:26:18,060 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:26:18,060 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:26:18,060 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:26:18,061 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:26:18,061 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:26:18,062 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:26:18,062 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:26:18,064 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:26:18,064 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:26:18,064 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:26:18,064 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:26:18,065 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:26:18,065 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:26:18,066 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:26:18,066 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:26:18,067 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:26:18,067 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:26:18,068 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:26:18,068 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:26:18,068 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:26:18,069 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:26:18,069 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:26:18,071 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:26:18,074 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:26:18,075 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:26:18,075 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:26:18,076 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:26:18,076 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:26:18,077 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:18,078 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:26:18,078 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:26:18,079 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:26:18,079 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:18,080 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:26:18,080 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:26:18,081 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:26:18,081 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:26:18,082 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:26:18,082 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:26:18,083 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:18,083 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:26:18,083 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:18,084 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:26:18,084 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:26:18,088 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:26:18,088 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:26:18,089 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:26:18,089 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:26:18,090 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:26:18,090 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:26:18,091 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:26:18,091 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:26:18,092 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:18,093 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:18,093 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:18,094 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:26:18,094 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:26:18,095 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:26:18,095 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:26:18,096 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:26:18,096 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:26:18,097 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:26:18,097 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:26:18,097 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:26:18,098 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:26:18,098 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:26:18,099 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:26:18,099 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0179.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:26:18,100 ERROR [stderr] (default task-62) 
2021-02-21 12:26:18,103 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:26:18,103 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:26:18,103 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:26:18,104 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:26:18,104 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:26:18,105 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0179.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:27:23,871 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0056.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:27:23,877 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0056.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:23,878 ERROR [stderr] (default task-62) 
2021-02-21 12:27:23,878 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:23,879 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:23,879 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:23,880 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:23,880 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:23,881 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:23,881 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:23,881 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:23,882 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:23,882 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:23,883 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:23,883 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:23,884 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:23,884 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:23,885 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:23,888 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:23,888 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:23,889 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:23,889 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:23,889 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:23,890 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:23,890 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:23,891 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:23,892 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:23,892 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:23,893 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:23,893 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:23,894 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:23,895 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:23,895 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:23,896 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:23,896 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:23,897 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:23,897 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:23,898 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:23,898 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:23,899 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:23,899 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:23,900 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:23,900 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:23,901 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:23,904 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:23,905 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:23,905 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:23,905 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:23,905 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:23,906 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:23,906 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:23,907 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:23,907 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:23,908 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:23,909 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:23,910 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:23,911 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:23,911 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:23,912 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:23,913 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:23,914 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:23,915 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:23,916 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:23,919 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:23,920 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:23,920 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:23,921 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:23,921 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:23,922 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:23,922 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:23,923 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:23,923 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:23,924 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:23,924 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:23,925 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:23,926 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:23,926 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:23,927 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:23,927 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:23,928 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:23,928 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:23,929 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:23,929 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:23,930 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0056.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:23,930 ERROR [stderr] (default task-62) 
2021-02-21 12:27:23,931 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:27:23,931 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:27:23,932 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:27:23,935 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:27:23,935 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:27:23,936 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0056.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:27:34,115 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0069.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:27:34,126 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0069.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:34,126 ERROR [stderr] (default task-62) 
2021-02-21 12:27:34,127 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:34,128 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:34,128 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:34,129 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:34,129 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:34,130 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:34,130 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:34,131 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:34,139 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:34,140 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:34,142 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:34,142 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:34,143 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:34,147 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:34,148 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:34,148 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:34,149 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:34,150 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:34,150 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:34,151 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:34,151 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:34,152 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:34,153 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:34,154 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:34,154 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:34,155 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:34,155 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:34,156 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:34,156 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:34,157 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:34,157 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:34,158 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:34,159 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:34,162 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:34,162 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:34,163 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:34,163 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:34,164 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:34,164 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:34,165 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:34,165 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:34,166 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:34,167 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:34,168 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:34,168 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:34,169 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:34,169 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:34,170 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:34,170 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:34,171 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:34,171 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:34,172 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:34,172 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:34,173 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:34,174 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:34,178 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:34,178 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:34,179 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:34,180 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:34,180 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:34,180 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:34,181 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:34,182 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:34,182 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:34,183 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:34,184 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:34,184 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:34,185 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:34,185 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:34,185 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:34,186 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:34,186 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:34,187 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:34,187 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:34,188 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:34,188 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:34,189 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:34,189 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:34,190 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:34,194 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:34,195 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0069.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:34,195 ERROR [stderr] (default task-62) 
2021-02-21 12:27:34,196 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:27:34,196 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:27:34,196 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:27:34,197 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:27:34,197 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:27:34,198 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0069.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:27:36,895 ERROR [org.keycloak.services] (default task-61) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:27:36,906 ERROR [stderr] (default task-61) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:36,907 ERROR [stderr] (default task-61) 
2021-02-21 12:27:36,908 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:36,908 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:36,909 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:36,910 ERROR [stderr] (default task-61) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:36,911 ERROR [stderr] (default task-61) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:36,911 ERROR [stderr] (default task-61) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:36,912 ERROR [stderr] (default task-61) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:36,913 ERROR [stderr] (default task-61) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:36,913 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:36,914 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:36,915 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:36,915 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:36,916 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:36,917 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:36,917 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:36,918 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:36,918 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:36,920 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:36,925 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:36,925 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:36,926 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:36,927 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:36,927 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:36,928 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:36,928 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:36,929 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:36,929 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:36,930 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:36,930 ERROR [stderr] (default task-61) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:36,931 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:36,931 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:36,932 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:36,932 ERROR [stderr] (default task-61) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:36,933 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:36,933 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:36,934 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:36,934 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:36,935 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:36,938 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:36,938 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:36,939 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:36,939 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:36,939 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:36,940 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:36,940 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:36,941 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:36,941 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:36,942 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:36,942 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:36,943 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:36,944 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:36,944 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:36,945 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:36,945 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:36,946 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:36,946 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:36,947 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:36,947 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:36,948 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:36,948 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:36,949 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:36,949 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:36,953 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:36,953 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:36,953 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:36,954 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:36,954 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:36,955 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:36,955 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:36,956 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:36,956 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:36,957 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:36,957 ERROR [stderr] (default task-61) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:36,958 ERROR [stderr] (default task-61) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:36,958 ERROR [stderr] (default task-61) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:36,959 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:36,959 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:36,960 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:36,960 ERROR [stderr] (default task-61) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:36,960 ERROR [stderr] (default task-61) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:36,961 ERROR [stderr] (default task-61) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:36,961 ERROR [stderr] (default task-61) 
2021-02-21 12:27:36,962 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:27:36,962 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:27:36,963 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:27:36,963 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:27:36,964 ERROR [stderr] (default task-61) 	... 79 more
2021-02-21 12:27:36,964 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-61) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:27:40,924 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0061.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:27:40,931 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0061.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:40,932 ERROR [stderr] (default task-62) 
2021-02-21 12:27:40,933 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:40,933 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:40,934 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:40,935 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:40,935 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:40,936 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:40,937 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:40,937 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:40,938 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:40,938 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:40,939 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:40,940 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:40,945 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:40,945 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:40,946 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:40,947 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:40,948 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:40,948 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:40,949 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:40,949 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:40,950 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:40,951 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:40,951 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:40,952 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:40,952 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:40,953 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:40,953 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:40,954 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:40,954 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:40,955 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:40,955 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:40,959 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:40,959 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:40,960 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:40,960 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:40,961 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:40,961 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:40,962 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:40,962 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:40,963 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:40,963 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:40,964 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:40,964 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:40,964 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:40,965 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:40,966 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:40,967 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:40,967 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:40,967 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:40,968 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:40,968 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:40,969 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:40,969 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:40,970 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:40,970 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:40,971 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:40,971 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:40,971 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:40,975 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:40,975 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:40,976 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:40,976 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:40,976 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:40,977 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:40,977 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:40,978 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:40,978 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:40,979 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:40,980 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:40,980 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:40,981 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:40,981 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:40,982 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:40,982 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:40,982 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:40,983 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:40,983 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:40,984 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:40,984 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:40,985 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:40,985 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0061.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:27:40,985 ERROR [stderr] (default task-62) 
2021-02-21 12:27:40,986 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:27:40,990 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:27:40,990 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:27:40,991 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:27:40,991 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:27:40,992 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0061.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:27:45,269 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 84 more

2021-02-21 12:27:45,278 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:27:45,278 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:27:45,280 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:27:45,281 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:45,282 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:45,282 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:45,283 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:45,283 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:45,284 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:45,284 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:45,285 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:45,285 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:45,286 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:45,286 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:45,287 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:45,288 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:45,289 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:45,289 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:45,290 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:45,290 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:45,291 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:45,291 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:45,292 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:45,292 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:45,293 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:45,293 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:45,294 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:45,294 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:45,294 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:45,296 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:45,297 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:45,300 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:45,300 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:45,301 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:45,301 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:45,302 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:45,302 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:45,303 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:45,305 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:45,306 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:45,306 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:45,306 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:45,307 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:45,307 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:45,308 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:45,308 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:45,309 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:45,309 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:45,310 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:45,310 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:45,311 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:45,311 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:45,311 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:45,312 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:45,315 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:45,315 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:45,315 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:45,316 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:45,316 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:45,317 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:45,317 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:45,318 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:45,318 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:45,319 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:45,319 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:45,320 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:45,320 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:45,321 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:45,322 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:45,322 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:45,323 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:45,323 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:45,323 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:45,324 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:45,324 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:45,325 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:45,325 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:45,325 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:45,325 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:45,326 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:45,327 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:45,330 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:45,330 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:45,331 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:27:45,331 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:27:45,332 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:27:45,332 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:27:45,332 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:27:45,333 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:27:45,333 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:27:45,334 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:27:45,334 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:27:45,335 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:27:45,335 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:27:45,336 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:27:45,336 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:27:45,337 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:27:45,337 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:27:45,338 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:27:45,338 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:27:45,339 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:27:45,340 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:27:45,340 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:27:45,341 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:27:45,341 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:27:45,342 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:27:45,342 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:27:45,343 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:27:45,347 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:27:45,347 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:27:45,347 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:27:45,348 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:27:45,348 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:27:45,349 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:27:45,349 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:27:52,854 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 84 more

2021-02-21 12:27:52,861 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:27:52,862 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:27:52,862 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:27:52,863 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:27:52,863 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:27:52,864 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:27:52,865 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:27:52,865 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:27:52,865 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:52,866 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:27:52,866 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:27:52,867 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:27:52,867 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:27:52,868 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:27:52,868 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:27:52,868 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:52,869 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:27:52,869 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:27:52,870 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:27:52,870 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:27:52,872 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:27:52,873 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:27:52,873 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:27:52,873 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:27:52,874 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:27:52,874 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:27:52,875 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:27:52,875 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:27:52,876 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:27:52,876 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:27:52,877 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:27:52,880 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:27:52,880 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:27:52,881 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:27:52,881 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:27:52,882 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:27:52,882 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:27:52,882 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:27:52,883 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:27:52,883 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:27:52,884 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:27:52,884 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:27:52,885 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:27:52,885 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:27:52,886 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:52,886 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:27:52,887 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:27:52,888 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:27:52,888 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:52,888 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:27:52,889 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:27:52,889 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:27:52,890 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:27:52,890 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:27:52,891 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:27:52,892 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:52,892 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:27:52,893 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:52,896 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:27:52,897 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:27:52,897 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:27:52,897 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:27:52,898 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:27:52,898 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:27:52,899 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:27:52,899 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:27:52,901 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:27:52,901 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:27:52,901 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:52,902 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:52,902 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:52,903 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:27:52,904 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:27:52,904 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:27:52,905 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:27:52,905 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:27:52,906 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:27:52,906 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:27:52,906 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:27:52,907 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:27:52,907 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:27:52,908 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:27:52,909 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:27:52,912 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:27:52,912 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:27:52,913 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:27:52,913 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
2021-02-21 12:27:52,914 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:27:52,914 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:27:52,915 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:27:52,915 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:27:52,916 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:27:52,916 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:27:52,916 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:27:52,917 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
2021-02-21 12:27:52,917 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
2021-02-21 12:27:52,918 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:27:52,919 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:27:52,920 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:27:52,920 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:27:52,921 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:27:52,921 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:27:52,922 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
2021-02-21 12:27:52,922 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:27:52,922 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:27:52,923 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:27:52,923 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:29:03,487 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 84 more

2021-02-21 12:29:03,500 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:29:03,501 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:29:03,502 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:29:03,503 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:29:03,504 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:29:03,504 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:29:03,505 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:29:03,506 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:29:03,507 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:03,508 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:03,509 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:29:03,509 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:29:03,510 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:29:03,511 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:29:03,512 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:29:03,513 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:03,513 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:29:03,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:29:03,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:29:03,515 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:29:03,516 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:29:03,517 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:29:03,517 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:29:03,518 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:29:03,518 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:29:03,519 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:03,520 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:29:03,520 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:29:03,521 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:29:03,527 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:29:03,530 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:29:03,530 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:29:03,530 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:29:03,532 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:29:03,533 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:29:03,539 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:29:03,548 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:29:03,549 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:29:03,550 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:29:03,550 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:29:03,551 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:29:03,551 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:29:03,552 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:29:03,552 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:29:03,553 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:03,560 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:29:03,560 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:29:03,561 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:29:03,562 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:03,562 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:29:03,563 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:29:03,563 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:29:03,564 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:29:03,564 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:29:03,565 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:29:03,565 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:03,566 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:29:03,566 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:03,567 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:29:03,567 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:29:03,568 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:03,568 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:29:03,569 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:29:03,574 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:29:03,576 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:29:03,577 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:29:03,577 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:29:03,578 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:29:03,579 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:03,579 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:03,580 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:03,580 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:03,580 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:29:03,581 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:29:03,581 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:29:03,582 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:29:03,582 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:29:03,583 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:29:03,591 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:29:03,592 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:29:03,594 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:29:03,594 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:29:03,594 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:29:03,595 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:29:03,595 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:29:03,596 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:29:03,596 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
2021-02-21 12:29:03,597 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:29:03,598 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:29:03,598 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:29:03,599 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:29:03,599 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:29:03,600 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:29:03,600 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:29:03,601 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
2021-02-21 12:29:03,601 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
2021-02-21 12:29:03,602 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:29:03,603 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:29:03,603 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:29:03,604 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:29:03,604 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:29:03,605 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:29:03,605 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
2021-02-21 12:29:03,606 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:29:03,607 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:29:03,607 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:29:03,608 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:29:10,523 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 84 more

2021-02-21 12:29:10,533 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:29:10,535 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:29:10,535 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:29:10,536 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:29:10,536 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:29:10,537 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:29:10,537 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:29:10,538 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:29:10,539 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:10,539 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:10,540 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:29:10,540 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:29:10,541 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:29:10,541 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:29:10,542 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:29:10,542 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:10,543 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:29:10,544 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:29:10,544 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:29:10,545 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:29:10,545 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:29:10,546 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:29:10,546 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:29:10,547 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:29:10,547 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:29:10,548 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:10,548 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:29:10,549 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:29:10,549 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:29:10,550 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:29:10,550 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:29:10,551 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:29:10,551 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:29:10,552 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:29:10,552 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:29:10,559 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:29:10,559 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:29:10,562 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:29:10,563 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:29:10,563 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:29:10,564 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:29:10,564 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:29:10,565 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:29:10,565 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:29:10,566 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:10,566 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:29:10,567 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:29:10,567 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:29:10,571 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:10,576 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:29:10,577 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:29:10,577 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:29:10,578 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:29:10,578 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:29:10,579 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:29:10,580 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:10,580 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:29:10,581 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:10,581 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:29:10,582 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:29:10,582 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:10,583 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:29:10,587 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:29:10,592 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:29:10,592 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:29:10,593 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:29:10,594 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:29:10,594 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:29:10,595 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:10,595 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:10,596 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:10,597 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:10,597 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:29:10,598 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:29:10,598 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:29:10,599 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:29:10,607 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:29:10,608 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:29:10,608 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:29:10,609 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:29:10,609 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:29:10,610 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:29:10,610 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:29:10,611 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:29:10,611 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:29:10,612 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:29:10,613 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:29:10,613 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:29:10,614 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:29:10,614 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:29:10,622 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:29:10,623 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:29:10,624 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:29:10,625 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:29:10,625 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:29:10,626 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:29:10,626 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:29:10,626 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:29:10,627 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:29:10,627 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:29:10,628 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:29:10,628 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:29:10,629 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:29:10,629 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:29:10,631 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:29:10,639 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:29:10,639 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:29:10,640 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:29:10,640 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:29:10,641 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:29:10,642 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:29:10,643 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:29:10,643 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:29:10,644 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:29:10,644 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:29:26,661 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0058.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:29:26,681 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0058.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:29:26,682 ERROR [stderr] (default task-62) 
2021-02-21 12:29:26,683 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:29:26,684 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:29:26,685 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:29:26,686 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:29:26,687 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:29:26,687 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:26,688 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:26,689 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:29:26,698 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:29:26,699 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:29:26,699 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:29:26,700 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:29:26,700 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:26,701 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:29:26,702 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:29:26,702 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:29:26,703 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:29:26,703 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:29:26,704 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:29:26,712 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:29:26,712 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:29:26,713 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:29:26,714 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:26,715 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:29:26,716 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:29:26,717 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:29:26,717 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:29:26,718 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:29:26,718 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:29:26,719 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:29:26,719 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:29:26,720 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:29:26,723 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:29:26,728 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:29:26,729 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:29:26,730 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:29:26,731 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:29:26,738 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:29:26,747 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:29:26,748 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:29:26,748 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:29:26,749 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:26,749 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:29:26,758 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:29:26,759 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:29:26,760 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:26,760 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:29:26,761 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:29:26,761 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:29:26,762 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:29:26,762 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:29:26,763 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:29:26,764 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:26,764 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:29:26,764 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:26,765 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:29:26,765 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:29:26,767 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:26,776 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:29:26,776 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:29:26,777 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:29:26,777 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:29:26,778 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:29:26,779 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:29:26,779 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:29:26,781 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:26,782 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:26,790 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:26,791 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:26,791 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:29:26,792 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:29:26,792 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:29:26,793 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:29:26,793 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:29:26,794 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:29:26,794 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:29:26,795 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:29:26,795 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:29:26,796 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:29:26,797 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:29:26,801 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0058.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:29:26,807 ERROR [stderr] (default task-62) 
2021-02-21 12:29:26,807 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:29:26,808 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:29:26,809 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:29:26,809 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:29:26,810 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:29:26,810 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0058.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:29:53,876 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]

	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 12:29:53,886 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:29:53,888 ERROR [stderr] (default task-62) 
2021-02-21 12:29:53,889 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:29:53,889 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:29:53,890 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:29:53,890 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:29:53,891 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:29:53,891 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:53,892 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:29:53,892 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:29:53,893 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:29:53,894 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:29:53,894 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:29:53,894 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:29:53,895 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:53,895 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:29:53,896 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:29:53,896 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:29:53,897 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:29:53,897 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:29:53,898 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:29:53,898 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:29:53,899 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:29:53,899 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:29:53,900 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:29:53,901 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:29:53,902 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:29:53,903 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:29:53,903 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:29:53,903 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:29:53,904 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:29:53,904 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:29:53,905 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:29:53,905 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:29:53,906 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:29:53,906 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:29:53,907 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:29:53,913 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:29:53,916 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:29:53,916 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:29:53,917 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:29:53,918 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:29:53,918 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:29:53,919 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:53,920 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:29:53,928 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:29:53,939 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:29:53,941 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:53,947 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:29:53,948 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:29:53,949 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:29:53,949 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:29:53,950 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:29:53,951 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:29:53,953 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:53,953 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:29:53,954 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:53,954 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:29:53,955 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:29:53,962 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:29:53,963 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:29:53,965 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:29:53,965 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:29:53,966 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:29:53,966 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:29:53,967 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:29:53,967 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:29:53,968 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:53,968 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:53,969 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:53,969 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:29:53,970 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:29:53,971 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:29:53,979 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:29:53,979 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:29:53,980 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:29:53,980 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:29:53,981 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:29:53,982 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:29:53,982 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:29:53,983 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:29:53,984 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:29:53,985 ERROR [stderr] (default task-62) Caused by: com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]
2021-02-21 12:29:53,985 ERROR [stderr] (default task-62) 
2021-02-21 12:29:53,985 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2374)
2021-02-21 12:29:53,986 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1808)
2021-02-21 12:29:53,987 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1285)
2021-02-21 12:29:53,990 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:150)
2021-02-21 12:29:53,996 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:29:53,996 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.smtp.SMTPSendFailedException: 451 5.7.3 STARTTLS is required to send mail [MR2P264CA0055.FRAP264.PROD.OUTLOOK.COM]

2021-02-21 12:30:24,254 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 84 more

2021-02-21 12:30:24,276 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:30:24,278 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:30:24,278 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:30:24,280 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:30:24,280 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:30:24,282 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:30:24,283 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:30:24,284 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:30:24,284 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:30:24,285 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:30:24,285 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:30:24,286 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:30:24,287 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:30:24,288 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:30:24,289 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:30:24,289 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:30:24,290 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:30:24,290 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:30:24,291 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:30:24,291 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:30:24,292 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:30:24,292 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:30:24,293 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:30:24,293 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:30:24,294 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:30:24,294 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:30:24,296 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:30:24,304 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:30:24,306 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:30:24,307 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:30:24,307 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:30:24,308 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:30:24,308 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:30:24,309 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:30:24,309 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:30:24,310 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:30:24,312 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:30:24,313 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:30:24,321 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:30:24,322 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:30:24,322 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:30:24,323 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:30:24,323 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:30:24,324 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:30:24,325 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:30:24,325 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:30:24,326 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:30:24,326 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:30:24,327 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:30:24,336 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:30:24,337 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:30:24,337 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:30:24,338 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:30:24,339 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:30:24,339 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:30:24,340 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:30:24,340 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:30:24,341 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:30:24,341 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:30:24,342 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:30:24,343 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:30:24,353 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:30:24,354 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:30:24,354 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:30:24,355 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:30:24,355 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:30:24,356 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:30:24,356 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:30:24,357 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:30:24,358 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:30:24,367 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:30:24,368 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:30:24,368 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:30:24,369 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:30:24,369 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:30:24,370 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:30:24,371 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:30:24,372 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:30:24,373 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:30:24,374 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:30:24,374 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:30:24,375 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:30:24,375 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:30:24,376 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:30:24,377 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:30:24,388 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:30:24,389 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:30:24,391 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:30:24,395 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:30:24,396 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:30:24,397 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:30:24,398 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:30:24,401 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:30:24,402 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:30:24,403 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:30:24,412 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:30:24,413 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:30:24,413 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:30:24,414 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:30:24,415 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:30:24,416 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:30:24,417 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:30:24,417 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:30:24,418 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:30:24,426 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:30:24,426 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:30:24,427 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:30:24,428 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:30:24,428 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:30:24,428 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:30:24,429 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:30:24,429 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:30:24,430 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:30:24,431 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:30:24,432 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:24,538 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 84 more

2021-02-21 12:35:24,557 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:35:24,558 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:24,558 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:24,559 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:35:24,560 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:35:24,560 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:35:24,561 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:35:24,562 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:35:24,562 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:35:24,563 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:35:24,563 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:35:24,564 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:35:24,565 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:35:24,565 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:35:24,566 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:35:24,567 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:24,567 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:35:24,568 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:35:24,568 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:35:24,569 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:35:24,569 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:35:24,570 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:35:24,571 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:35:24,571 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:35:24,572 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:35:24,572 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:24,573 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:35:24,573 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:35:24,574 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:35:24,574 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:35:24,575 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:35:24,575 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:35:24,577 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:35:24,585 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:35:24,587 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:35:24,587 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:35:24,587 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:35:24,588 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:35:24,588 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:35:24,589 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:35:24,590 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:35:24,590 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:35:24,591 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:35:24,591 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:35:24,592 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:24,592 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:35:24,593 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:35:24,594 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:35:24,594 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:24,595 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:35:24,595 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:35:24,596 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:35:24,596 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:35:24,597 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:35:24,597 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:35:24,598 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:24,599 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:35:24,599 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:24,600 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:35:24,601 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:35:24,601 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:24,602 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:35:24,602 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:35:24,603 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:35:24,603 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:35:24,604 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:35:24,604 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:35:24,605 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:35:24,605 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:24,606 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:24,611 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:24,613 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:24,613 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:35:24,614 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:35:24,614 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:35:24,615 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:35:24,615 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:35:24,616 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:35:24,616 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:35:24,617 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:35:24,617 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:35:24,618 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:35:24,618 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:35:24,619 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:35:24,619 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:24,619 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:24,620 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:35:24,620 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:35:24,621 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:35:24,630 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:35:24,632 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:35:24,634 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:35:24,635 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:35:24,637 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:24,641 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:35:24,649 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:35:24,650 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:24,652 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:24,656 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:24,662 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:35:24,663 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:35:24,663 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:35:24,664 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:35:24,665 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:35:24,666 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:35:24,667 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:35:24,677 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:35:24,678 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:35:24,678 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:24,680 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:24,681 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:35:24,681 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:35:24,682 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:35:24,683 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:35:24,693 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:33,287 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 84 more

2021-02-21 12:35:33,319 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:35:33,321 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:33,322 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:35:33,323 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:35:33,323 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:35:33,324 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:35:33,325 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:35:33,326 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
2021-02-21 12:35:33,326 ERROR [stderr] (default task-62) 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:35:33,327 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:35:33,328 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:35:33,329 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:35:33,329 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:35:33,330 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:35:33,330 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:35:33,331 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:33,332 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:35:33,332 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:35:33,333 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:35:33,334 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:35:33,340 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:35:33,342 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:35:33,342 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:35:33,343 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:35:33,343 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:35:33,344 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:33,344 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:35:33,345 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:35:33,345 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:35:33,346 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:35:33,346 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:35:33,347 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:35:33,348 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:35:33,348 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:35:33,349 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:35:33,356 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:35:33,357 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:35:33,357 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:35:33,358 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:35:33,358 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:35:33,359 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:35:33,359 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:35:33,360 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:35:33,360 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:35:33,362 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:33,362 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:35:33,363 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:35:33,363 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:35:33,364 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:33,372 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:35:33,372 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:35:33,373 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:35:33,373 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:35:33,374 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:35:33,374 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:35:33,375 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:33,376 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:35:33,377 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:33,377 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:35:33,378 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:35:33,378 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:33,378 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:35:33,382 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:35:33,387 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:35:33,387 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:35:33,388 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:35:33,388 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:35:33,389 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:35:33,389 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:33,390 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:33,390 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:33,391 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:33,392 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:35:33,392 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:35:33,392 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:35:33,393 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:35:33,394 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:35:33,403 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:35:33,403 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:35:33,404 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:35:33,404 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:35:33,405 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:35:33,405 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:35:33,406 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
2021-02-21 12:35:33,406 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:33,407 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:35:33,407 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2212)
2021-02-21 12:35:33,408 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:35:33,408 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:35:33,409 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:35:33,409 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:35:33,411 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:35:33,419 ERROR [stderr] (default task-62) 	... 79 more
2021-02-21 12:35:33,419 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:35:33,420 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)
2021-02-21 12:35:33,420 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)
2021-02-21 12:35:33,421 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:35:33,421 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:35:33,422 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:35:33,422 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:33,423 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:33,423 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:35:33,424 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:376)
2021-02-21 12:35:33,425 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:35:33,425 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:35:33,426 ERROR [stderr] (default task-62) 	... 84 more
2021-02-21 12:35:33,429 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;
  nested exception is:
	javax.net.ssl.SSLException: Unsupported or unrecognized SSL message
2021-02-21 12:35:54,028 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 12:35:54,071 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:35:54,072 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:54,073 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:54,073 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:35:54,074 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:35:54,075 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:35:54,075 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:35:54,076 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:35:54,076 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:35:54,077 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:35:54,077 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:35:54,078 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:35:54,079 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:35:54,079 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:35:54,080 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:54,081 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:35:54,082 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:35:54,083 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:35:54,083 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:35:54,086 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:35:54,087 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:35:54,088 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:35:54,089 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:35:54,089 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:35:54,090 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:35:54,109 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:35:54,110 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:35:54,131 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:35:54,137 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:35:54,141 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:35:54,141 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:35:54,143 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:35:54,150 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:35:54,150 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:35:54,151 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:35:54,154 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:35:54,162 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:35:54,162 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:35:54,163 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:35:54,163 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:35:54,164 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:35:54,165 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:35:54,165 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:35:54,166 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:54,169 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:35:54,171 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:35:54,177 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:35:54,177 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:54,178 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:35:54,178 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:35:54,179 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:35:54,179 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:35:54,180 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:35:54,180 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:35:54,181 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:54,182 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:35:54,183 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:54,191 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:35:54,194 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:35:54,195 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:35:54,197 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:35:54,206 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:35:54,208 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:35:54,217 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:35:54,218 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:35:54,220 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:35:54,222 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:35:54,225 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:54,227 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:54,229 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:54,241 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:35:54,244 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:35:54,246 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:35:54,248 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:35:54,250 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:35:54,251 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:35:54,253 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:35:54,254 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:35:54,255 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:35:54,256 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:35:54,257 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:35:54,258 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:35:54,259 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:35:54,260 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:35:54,261 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:54,272 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:35:54,274 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:35:54,276 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:35:54,279 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:35:54,282 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:35:54,284 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:35:54,286 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:35:54,288 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:35:54,289 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:35:54,291 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:35:54,292 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:54,303 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:54,304 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:35:54,305 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:35:54,306 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:35:54,307 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:35:54,310 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:35:54,318 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:35:54,319 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:35:54,320 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:35:54,321 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:35:54,322 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:35:54,331 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:54,333 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:35:54,334 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:35:54,335 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:35:54,336 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:35:54,337 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:35:54,339 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:37:59,989 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.net.PlainSocketImpl.connect(Unknown Source)
	at java.net.SocksSocketImpl.connect(Unknown Source)
	at java.net.Socket.connect(Unknown Source)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 83 more

2021-02-21 12:37:59,999 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:38:00,000 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:38:00,001 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:38:00,001 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:38:00,002 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:38:00,003 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:38:00,003 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:38:00,004 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:38:00,005 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:38:00,005 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:38:00,006 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:38:00,007 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:38:00,008 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:38:00,009 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:38:00,009 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:38:00,010 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:38:00,010 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:38:00,011 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:38:00,011 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:38:00,012 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:38:00,013 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:38:00,013 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:38:00,014 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:38:00,015 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:38:00,015 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:38:00,016 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:38:00,016 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:38:00,017 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:38:00,017 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:38:00,018 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:38:00,025 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:38:00,026 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:38:00,027 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:38:00,028 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:38:00,028 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:38:00,029 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:38:00,030 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:38:00,030 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:38:00,031 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:38:00,031 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:38:00,032 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:38:00,033 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:38:00,033 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:38:00,036 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:38:00,042 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:38:00,042 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:38:00,043 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:38:00,043 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:38:00,044 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:38:00,044 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:38:00,045 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:38:00,046 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:38:00,046 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:38:00,047 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:38:00,047 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:38:00,048 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:38:00,049 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:38:00,053 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:38:00,058 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:38:00,058 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:38:00,059 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:38:00,059 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:38:00,060 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:38:00,060 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:38:00,061 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:38:00,061 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:38:00,062 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:38:00,063 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:38:00,066 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:38:00,070 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:38:00,071 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:38:00,072 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:38:00,072 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:38:00,073 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:38:00,073 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:38:00,074 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:38:00,074 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:38:00,075 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:38:00,075 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:38:00,076 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:38:00,076 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:38:00,077 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:38:00,078 ERROR [stderr] (default task-62) Caused by: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:38:00,078 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:38:00,078 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:38:00,079 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
2021-02-21 12:38:00,086 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:38:00,087 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:38:00,088 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:38:00,088 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:38:00,089 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:38:00,089 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:38:00,090 ERROR [stderr] (default task-62) Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:38:00,090 ERROR [stderr] (default task-62) 	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
2021-02-21 12:38:00,091 ERROR [stderr] (default task-62) 	at java.net.PlainSocketImpl.connect(Unknown Source)
2021-02-21 12:38:00,091 ERROR [stderr] (default task-62) 	at java.net.SocksSocketImpl.connect(Unknown Source)
2021-02-21 12:38:00,092 ERROR [stderr] (default task-62) 	at java.net.Socket.connect(Unknown Source)
2021-02-21 12:38:00,092 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
2021-02-21 12:38:00,093 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:38:00,093 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:38:00,094 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:38:00,095 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:22,505 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.net.PlainSocketImpl.connect(Unknown Source)
	at java.net.SocksSocketImpl.connect(Unknown Source)
	at java.net.Socket.connect(Unknown Source)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 83 more

2021-02-21 12:55:22,509 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:55:22,509 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:22,509 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:22,510 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:55:22,510 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:55:22,510 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:55:22,511 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:55:22,511 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:55:22,512 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:55:22,512 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:55:22,512 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:55:22,512 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:55:22,512 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:55:22,513 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:55:22,513 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:22,513 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:55:22,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:55:22,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:55:22,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:55:22,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:55:22,514 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:55:22,515 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:55:22,515 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:55:22,515 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:55:22,516 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:22,516 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:55:22,516 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:55:22,516 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:55:22,517 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:55:22,517 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:55:22,517 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:55:22,517 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:55:22,518 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:55:22,518 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:55:22,518 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:55:22,518 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:55:22,519 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:55:22,519 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:55:22,519 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:55:22,519 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:55:22,520 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:55:22,520 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:55:22,520 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:55:22,520 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:22,520 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:55:22,521 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:55:22,521 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:55:22,521 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:22,521 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:55:22,522 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:55:22,522 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:55:22,522 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:55:22,522 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:55:22,523 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:55:22,523 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:22,523 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:55:22,523 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:22,524 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:55:22,524 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:55:22,525 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:22,525 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:55:22,525 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:55:22,525 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:55:22,526 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:55:22,526 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:55:22,527 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:55:22,527 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:55:22,527 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:22,527 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:22,528 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:22,528 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:22,528 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:55:22,528 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:55:22,529 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:55:22,529 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:55:22,529 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:55:22,529 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:55:22,529 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:55:22,530 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:55:22,530 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:55:22,530 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:55:22,530 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:55:22,531 ERROR [stderr] (default task-62) Caused by: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:55:22,531 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:22,531 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:22,531 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
2021-02-21 12:55:22,532 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:55:22,532 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:55:22,532 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:55:22,532 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:55:22,533 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:55:22,533 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:55:22,533 ERROR [stderr] (default task-62) Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:22,533 ERROR [stderr] (default task-62) 	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
2021-02-21 12:55:22,533 ERROR [stderr] (default task-62) 	at java.net.PlainSocketImpl.connect(Unknown Source)
2021-02-21 12:55:22,534 ERROR [stderr] (default task-62) 	at java.net.SocksSocketImpl.connect(Unknown Source)
2021-02-21 12:55:22,534 ERROR [stderr] (default task-62) 	at java.net.Socket.connect(Unknown Source)
2021-02-21 12:55:22,534 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
2021-02-21 12:55:22,534 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:55:22,535 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:55:22,535 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:55:22,535 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:27,678 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.net.PlainSocketImpl.connect(Unknown Source)
	at java.net.SocksSocketImpl.connect(Unknown Source)
	at java.net.Socket.connect(Unknown Source)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
	... 83 more

2021-02-21 12:55:27,680 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:55:27,680 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:27,680 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:27,681 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:55:27,681 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:55:27,682 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:55:27,682 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:55:27,682 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:55:27,682 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:55:27,683 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:55:27,683 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:55:27,683 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:55:27,683 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:55:27,684 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:55:27,684 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:27,684 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:55:27,684 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:55:27,685 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:55:27,685 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:55:27,685 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:55:27,685 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:55:27,687 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:55:27,687 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:55:27,687 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:55:27,688 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:27,688 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:55:27,688 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:55:27,688 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:55:27,689 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:55:27,689 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:55:27,689 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:55:27,689 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:55:27,690 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:55:27,690 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:55:27,690 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:55:27,690 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:55:27,690 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:55:27,691 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:55:27,691 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:55:27,691 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:55:27,691 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:55:27,692 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:55:27,692 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:55:27,692 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:27,693 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:55:27,693 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:55:27,693 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:55:27,693 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:27,694 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:55:27,694 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:55:27,694 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:55:27,694 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:55:27,695 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:55:27,695 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:55:27,695 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:27,696 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:55:27,696 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:27,696 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:55:27,696 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:55:27,697 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:27,697 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:55:27,697 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:55:27,697 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:55:27,698 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:55:27,699 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:55:27,699 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:55:27,700 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:55:27,701 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:27,701 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:27,703 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:27,704 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:27,704 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:55:27,704 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:55:27,705 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:55:27,705 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:55:27,705 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:55:27,705 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:55:27,705 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:55:27,706 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:55:27,706 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:55:27,706 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:55:27,706 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:55:27,707 ERROR [stderr] (default task-62) Caused by: com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
2021-02-21 12:55:27,707 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:27,707 ERROR [stderr] (default task-62) 	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:27,707 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2210)
2021-02-21 12:55:27,708 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:722)
2021-02-21 12:55:27,708 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:55:27,708 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:55:27,708 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:55:27,709 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:55:27,709 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:55:27,709 ERROR [stderr] (default task-62) Caused by: java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:27,709 ERROR [stderr] (default task-62) 	at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
2021-02-21 12:55:27,709 ERROR [stderr] (default task-62) 	at java.net.PlainSocketImpl.connect(Unknown Source)
2021-02-21 12:55:27,710 ERROR [stderr] (default task-62) 	at java.net.SocksSocketImpl.connect(Unknown Source)
2021-02-21 12:55:27,710 ERROR [stderr] (default task-62) 	at java.net.Socket.connect(Unknown Source)
2021-02-21 12:55:27,710 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:333)
2021-02-21 12:55:27,710 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:214)
2021-02-21 12:55:27,711 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2160)
2021-02-21 12:55:27,711 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:55:27,711 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.office365.com, smtp.gmail.com, 587; timeout 10000;
  nested exception is:
	java.net.UnknownHostException: smtp.office365.com, smtp.gmail.com
2021-02-21 12:55:38,722 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 12:55:38,750 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:55:38,750 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:38,751 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:55:38,752 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:55:38,753 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:55:38,753 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:55:38,754 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:55:38,755 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:55:38,755 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:55:38,756 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:55:38,757 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:55:38,757 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:55:38,758 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:55:38,759 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:55:38,759 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:38,760 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:55:38,760 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:55:38,760 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:55:38,762 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:55:38,762 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:55:38,762 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:55:38,763 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:55:38,764 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:55:38,764 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:55:38,764 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:55:38,765 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:55:38,765 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:55:38,766 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:55:38,772 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:55:38,775 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:55:38,775 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:55:38,776 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:55:38,776 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:55:38,777 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:55:38,777 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:55:38,778 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:55:38,778 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:55:38,779 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:55:38,779 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:55:38,779 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:55:38,780 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:55:38,790 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:55:38,790 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:55:38,791 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:38,792 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:55:38,793 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:55:38,793 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:55:38,794 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:38,794 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:55:38,795 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:55:38,795 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:55:38,796 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:55:38,797 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:55:38,798 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:55:38,798 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:38,799 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:55:38,800 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:38,801 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:55:38,802 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:55:38,802 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:55:38,802 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:55:38,803 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:55:38,803 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:55:38,804 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:55:38,804 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:55:38,805 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:55:38,805 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:55:38,806 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:38,806 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:38,808 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:38,808 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:55:38,809 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:55:38,810 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:55:38,810 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:55:38,811 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:55:38,818 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:55:38,820 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:55:38,820 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:55:38,821 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:55:38,821 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:55:38,822 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:55:38,824 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:55:38,825 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:55:38,825 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:55:38,826 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:55:38,835 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:55:38,835 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:55:38,836 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:55:38,836 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:55:38,837 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:55:38,837 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:55:38,838 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:55:38,838 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:55:38,839 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:55:38,840 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:55:38,840 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:55:38,841 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:55:38,850 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:55:38,852 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:55:38,853 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:55:38,855 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:55:38,858 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:55:38,861 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:55:38,867 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:55:38,868 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:55:38,869 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:55:38,869 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:55:38,869 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:55:38,870 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:55:38,872 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:55:38,874 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:55:38,881 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:55:38,881 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:55:38,882 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:56:48,383 ERROR [org.keycloak.services] (default task-62) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 12:56:48,413 ERROR [stderr] (default task-62) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:56:48,415 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:56:48,415 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:56:48,417 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:56:48,417 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:56:48,418 ERROR [stderr] (default task-62) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:56:48,419 ERROR [stderr] (default task-62) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:56:48,419 ERROR [stderr] (default task-62) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:56:48,420 ERROR [stderr] (default task-62) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:56:48,421 ERROR [stderr] (default task-62) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:56:48,422 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:56:48,422 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:56:48,423 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:56:48,424 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:56:48,424 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:56:48,425 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:56:48,432 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:56:48,434 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:56:48,434 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:56:48,435 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:56:48,436 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:56:48,436 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:56:48,437 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:56:48,437 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:56:48,438 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:56:48,438 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:56:48,439 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:56:48,439 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:56:48,440 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:56:48,448 ERROR [stderr] (default task-62) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:56:48,448 ERROR [stderr] (default task-62) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:56:48,449 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:56:48,449 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:56:48,450 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:56:48,450 ERROR [stderr] (default task-62) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:56:48,451 ERROR [stderr] (default task-62) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:56:48,451 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:56:48,452 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:56:48,452 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:56:48,453 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:56:48,453 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:56:48,454 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:56:48,455 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:56:48,458 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:56:48,465 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:56:48,465 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:56:48,466 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:56:48,467 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:56:48,468 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:56:48,468 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:56:48,469 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:56:48,469 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:56:48,470 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:56:48,470 ERROR [stderr] (default task-62) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:56:48,471 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:56:48,480 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:56:48,480 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:56:48,482 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:56:48,482 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:56:48,483 ERROR [stderr] (default task-62) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:56:48,483 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:56:48,484 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:56:48,484 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:56:48,485 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:56:48,485 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:56:48,486 ERROR [stderr] (default task-62) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:56:48,486 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:56:48,487 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:56:48,495 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:56:48,495 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:56:48,496 ERROR [stderr] (default task-62) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:56:48,496 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:56:48,497 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:56:48,497 ERROR [stderr] (default task-62) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:56:48,498 ERROR [stderr] (default task-62) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:56:48,498 ERROR [stderr] (default task-62) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:56:48,499 ERROR [stderr] (default task-62) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:56:48,499 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:56:48,500 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:56:48,500 ERROR [stderr] (default task-62) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:56:48,501 ERROR [stderr] (default task-62) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:56:48,501 ERROR [stderr] (default task-62) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:56:48,502 ERROR [stderr] (default task-62) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:56:48,507 ERROR [stderr] (default task-62)   nested exception is:
2021-02-21 12:56:48,512 ERROR [stderr] (default task-62) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:56:48,512 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:56:48,513 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:56:48,513 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:56:48,514 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:56:48,515 ERROR [stderr] (default task-62) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:56:48,515 ERROR [stderr] (default task-62) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:56:48,516 ERROR [stderr] (default task-62) 	... 78 more
2021-02-21 12:56:48,516 ERROR [stderr] (default task-62) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:56:48,516 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:56:48,517 ERROR [stderr] (default task-62) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:56:48,517 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:56:48,518 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:56:48,526 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:56:48,526 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:56:48,528 ERROR [stderr] (default task-62) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:56:48,528 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:56:48,529 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:56:48,529 ERROR [stderr] (default task-62) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:56:48,530 ERROR [stderr] (default task-62) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:56:48,530 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:56:48,531 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:56:48,531 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:56:48,532 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:56:48,532 ERROR [stderr] (default task-62) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:56:48,533 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:56:48,541 ERROR [stderr] (default task-62) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:56:48,541 ERROR [stderr] (default task-62) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:56:48,542 ERROR [stderr] (default task-62) 	... 83 more
2021-02-21 12:56:48,542 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-62) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:59:57,281 ERROR [org.keycloak.services] (default task-61) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 12:59:57,316 ERROR [stderr] (default task-61) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:59:57,317 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 12:59:57,319 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:59:57,320 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 12:59:57,321 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 12:59:57,322 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 12:59:57,323 ERROR [stderr] (default task-61) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 12:59:57,330 ERROR [stderr] (default task-61) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 12:59:57,331 ERROR [stderr] (default task-61) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 12:59:57,341 ERROR [stderr] (default task-61) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 12:59:57,342 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 12:59:57,342 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 12:59:57,343 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 12:59:57,343 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 12:59:57,344 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:59:57,346 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 12:59:57,346 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 12:59:57,346 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 12:59:57,347 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 12:59:57,347 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 12:59:57,347 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 12:59:57,348 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 12:59:57,348 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 12:59:57,349 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 12:59:57,349 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 12:59:57,350 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 12:59:57,350 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 12:59:57,351 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 12:59:57,351 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 12:59:57,352 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 12:59:57,352 ERROR [stderr] (default task-61) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 12:59:57,353 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 12:59:57,353 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 12:59:57,354 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 12:59:57,354 ERROR [stderr] (default task-61) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 12:59:57,355 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 12:59:57,355 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 12:59:57,356 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 12:59:57,356 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 12:59:57,356 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 12:59:57,357 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 12:59:57,357 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 12:59:57,358 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 12:59:57,365 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:59:57,365 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 12:59:57,366 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 12:59:57,367 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 12:59:57,367 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:59:57,368 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 12:59:57,368 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 12:59:57,369 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 12:59:57,370 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 12:59:57,370 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 12:59:57,371 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 12:59:57,371 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:59:57,372 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 12:59:57,372 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:59:57,373 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 12:59:57,373 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 12:59:57,374 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 12:59:57,382 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 12:59:57,382 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 12:59:57,384 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 12:59:57,384 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 12:59:57,385 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 12:59:57,386 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 12:59:57,386 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 12:59:57,387 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:59:57,387 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:59:57,388 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:59:57,388 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 12:59:57,389 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 12:59:57,397 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 12:59:57,397 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 12:59:57,398 ERROR [stderr] (default task-61) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 12:59:57,398 ERROR [stderr] (default task-61) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 12:59:57,399 ERROR [stderr] (default task-61) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 12:59:57,399 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 12:59:57,400 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 12:59:57,400 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 12:59:57,400 ERROR [stderr] (default task-61) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 12:59:57,401 ERROR [stderr] (default task-61) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 12:59:57,402 ERROR [stderr] (default task-61) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 12:59:57,402 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 12:59:57,403 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:59:57,403 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 12:59:57,404 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 12:59:57,412 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 12:59:57,412 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 12:59:57,413 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 12:59:57,413 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 12:59:57,414 ERROR [stderr] (default task-61) 	... 78 more
2021-02-21 12:59:57,414 ERROR [stderr] (default task-61) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 12:59:57,415 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:59:57,415 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 12:59:57,416 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:59:57,416 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:59:57,417 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 12:59:57,417 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 12:59:57,418 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 12:59:57,422 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 12:59:57,427 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:59:57,427 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 12:59:57,428 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 12:59:57,428 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 12:59:57,429 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 12:59:57,429 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 12:59:57,430 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:59:57,430 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 12:59:57,430 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 12:59:57,431 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 12:59:57,431 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 12:59:57,432 ERROR [stderr] (default task-61) 	... 83 more
2021-02-21 12:59:57,432 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-61) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:01:09,203 ERROR [org.keycloak.services] (default task-61) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 13:01:09,227 ERROR [stderr] (default task-61) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 13:01:09,229 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 13:01:09,230 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:01:09,231 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 13:01:09,232 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 13:01:09,233 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 13:01:09,233 ERROR [stderr] (default task-61) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 13:01:09,235 ERROR [stderr] (default task-61) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 13:01:09,235 ERROR [stderr] (default task-61) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 13:01:09,236 ERROR [stderr] (default task-61) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 13:01:09,237 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 13:01:09,238 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 13:01:09,238 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 13:01:09,239 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 13:01:09,240 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 13:01:09,240 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 13:01:09,241 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 13:01:09,242 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 13:01:09,242 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 13:01:09,243 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 13:01:09,244 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 13:01:09,250 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 13:01:09,252 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 13:01:09,253 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 13:01:09,253 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 13:01:09,254 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 13:01:09,255 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 13:01:09,255 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 13:01:09,256 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 13:01:09,256 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 13:01:09,257 ERROR [stderr] (default task-61) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 13:01:09,257 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 13:01:09,258 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 13:01:09,258 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 13:01:09,259 ERROR [stderr] (default task-61) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 13:01:09,268 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 13:01:09,268 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 13:01:09,269 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 13:01:09,269 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 13:01:09,270 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 13:01:09,270 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 13:01:09,271 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 13:01:09,271 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 13:01:09,272 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:01:09,273 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 13:01:09,273 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 13:01:09,273 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 13:01:09,274 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:01:09,274 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 13:01:09,275 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 13:01:09,285 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 13:01:09,285 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 13:01:09,286 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 13:01:09,286 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 13:01:09,287 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:01:09,288 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 13:01:09,288 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:01:09,289 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 13:01:09,289 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 13:01:09,290 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:01:09,290 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 13:01:09,291 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 13:01:09,299 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 13:01:09,299 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 13:01:09,300 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 13:01:09,300 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 13:01:09,301 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 13:01:09,301 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:01:09,302 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:01:09,302 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:01:09,303 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:01:09,304 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 13:01:09,304 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 13:01:09,305 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 13:01:09,305 ERROR [stderr] (default task-61) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 13:01:09,306 ERROR [stderr] (default task-61) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 13:01:09,314 ERROR [stderr] (default task-61) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 13:01:09,314 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 13:01:09,315 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 13:01:09,315 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 13:01:09,316 ERROR [stderr] (default task-61) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 13:01:09,316 ERROR [stderr] (default task-61) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 13:01:09,317 ERROR [stderr] (default task-61) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 13:01:09,317 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 13:01:09,319 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:01:09,319 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 13:01:09,320 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 13:01:09,320 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 13:01:09,321 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 13:01:09,321 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 13:01:09,322 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 13:01:09,323 ERROR [stderr] (default task-61) 	... 78 more
2021-02-21 13:01:09,330 ERROR [stderr] (default task-61) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:01:09,330 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 13:01:09,332 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 13:01:09,332 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:01:09,333 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:01:09,333 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:01:09,333 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 13:01:09,334 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 13:01:09,335 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 13:01:09,335 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 13:01:09,336 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 13:01:09,336 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 13:01:09,336 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 13:01:09,336 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 13:01:09,337 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 13:01:09,345 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 13:01:09,345 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 13:01:09,346 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 13:01:09,346 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 13:01:09,347 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 13:01:09,347 ERROR [stderr] (default task-61) 	... 83 more
2021-02-21 13:01:09,348 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-61) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:04:26,464 ERROR [org.keycloak.services] (default task-61) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 83 more

2021-02-21 13:04:26,497 ERROR [stderr] (default task-61) org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 13:04:26,498 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 13:04:26,499 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:04:26,500 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
2021-02-21 13:04:26,500 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
2021-02-21 13:04:26,501 ERROR [stderr] (default task-61) 	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendSmtpTestEmail(FreeMarkerEmailTemplateProvider.java:135)
2021-02-21 13:04:26,502 ERROR [stderr] (default task-61) 	at org.keycloak.services.resources.admin.RealmAdminResource.testSMTPConnection(RealmAdminResource.java:1008)
2021-02-21 13:04:26,502 ERROR [stderr] (default task-61) 	at sun.reflect.GeneratedMethodAccessor870.invoke(Unknown Source)
2021-02-21 13:04:26,503 ERROR [stderr] (default task-61) 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
2021-02-21 13:04:26,503 ERROR [stderr] (default task-61) 	at java.lang.reflect.Method.invoke(Unknown Source)
2021-02-21 13:04:26,504 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
2021-02-21 13:04:26,504 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
2021-02-21 13:04:26,505 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
2021-02-21 13:04:26,506 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
2021-02-21 13:04:26,506 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 13:04:26,513 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
2021-02-21 13:04:26,513 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
2021-02-21 13:04:26,514 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
2021-02-21 13:04:26,515 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
2021-02-21 13:04:26,516 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
2021-02-21 13:04:26,516 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
2021-02-21 13:04:26,517 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
2021-02-21 13:04:26,517 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
2021-02-21 13:04:26,518 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
2021-02-21 13:04:26,518 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
2021-02-21 13:04:26,519 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
2021-02-21 13:04:26,519 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
2021-02-21 13:04:26,520 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
2021-02-21 13:04:26,520 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
2021-02-21 13:04:26,521 ERROR [stderr] (default task-61) 	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
2021-02-21 13:04:26,521 ERROR [stderr] (default task-61) 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
2021-02-21 13:04:26,522 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
2021-02-21 13:04:26,528 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
2021-02-21 13:04:26,529 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
2021-02-21 13:04:26,529 ERROR [stderr] (default task-61) 	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
2021-02-21 13:04:26,531 ERROR [stderr] (default task-61) 	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
2021-02-21 13:04:26,531 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
2021-02-21 13:04:26,532 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
2021-02-21 13:04:26,532 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
2021-02-21 13:04:26,533 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
2021-02-21 13:04:26,533 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
2021-02-21 13:04:26,534 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
2021-02-21 13:04:26,534 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
2021-02-21 13:04:26,535 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:04:26,535 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
2021-02-21 13:04:26,536 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
2021-02-21 13:04:26,536 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
2021-02-21 13:04:26,537 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:04:26,537 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
2021-02-21 13:04:26,538 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
2021-02-21 13:04:26,546 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
2021-02-21 13:04:26,548 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
2021-02-21 13:04:26,550 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
2021-02-21 13:04:26,551 ERROR [stderr] (default task-61) 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
2021-02-21 13:04:26,552 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:04:26,553 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
2021-02-21 13:04:26,555 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:04:26,562 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
2021-02-21 13:04:26,564 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
2021-02-21 13:04:26,564 ERROR [stderr] (default task-61) 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
2021-02-21 13:04:26,565 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
2021-02-21 13:04:26,566 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
2021-02-21 13:04:26,566 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
2021-02-21 13:04:26,567 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
2021-02-21 13:04:26,568 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
2021-02-21 13:04:26,568 ERROR [stderr] (default task-61) 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
2021-02-21 13:04:26,569 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
2021-02-21 13:04:26,570 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:04:26,571 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:04:26,571 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:04:26,572 ERROR [stderr] (default task-61) 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
2021-02-21 13:04:26,572 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
2021-02-21 13:04:26,573 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
2021-02-21 13:04:26,573 ERROR [stderr] (default task-61) 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
2021-02-21 13:04:26,574 ERROR [stderr] (default task-61) 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
2021-02-21 13:04:26,575 ERROR [stderr] (default task-61) 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
2021-02-21 13:04:26,575 ERROR [stderr] (default task-61) 	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
2021-02-21 13:04:26,576 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
2021-02-21 13:04:26,576 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
2021-02-21 13:04:26,577 ERROR [stderr] (default task-61) 	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
2021-02-21 13:04:26,577 ERROR [stderr] (default task-61) 	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
2021-02-21 13:04:26,578 ERROR [stderr] (default task-61) 	at java.lang.Thread.run(Unknown Source)
2021-02-21 13:04:26,578 ERROR [stderr] (default task-61) Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
2021-02-21 13:04:26,579 ERROR [stderr] (default task-61)   nested exception is:
2021-02-21 13:04:26,579 ERROR [stderr] (default task-61) 	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:04:26,579 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
2021-02-21 13:04:26,580 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
2021-02-21 13:04:26,580 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:342)
2021-02-21 13:04:26,581 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:222)
2021-02-21 13:04:26,581 ERROR [stderr] (default task-61) 	at javax.mail.Service.connect(Service.java:243)
2021-02-21 13:04:26,581 ERROR [stderr] (default task-61) 	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
2021-02-21 13:04:26,582 ERROR [stderr] (default task-61) 	... 78 more
2021-02-21 13:04:26,582 ERROR [stderr] (default task-61) Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 13:04:26,583 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 13:04:26,583 ERROR [stderr] (default task-61) 	at sun.security.ssl.Alert.createSSLException(Unknown Source)
2021-02-21 13:04:26,584 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:04:26,584 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:04:26,585 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.fatal(Unknown Source)
2021-02-21 13:04:26,591 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
2021-02-21 13:04:26,593 ERROR [stderr] (default task-61) 	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
2021-02-21 13:04:26,593 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
2021-02-21 13:04:26,594 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 13:04:26,594 ERROR [stderr] (default task-61) 	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
2021-02-21 13:04:26,595 ERROR [stderr] (default task-61) 	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
2021-02-21 13:04:26,595 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLTransport.decode(Unknown Source)
2021-02-21 13:04:26,596 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
2021-02-21 13:04:26,596 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
2021-02-21 13:04:26,597 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 13:04:26,598 ERROR [stderr] (default task-61) 	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
2021-02-21 13:04:26,598 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
2021-02-21 13:04:26,598 ERROR [stderr] (default task-61) 	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
2021-02-21 13:04:26,599 ERROR [stderr] (default task-61) 	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
2021-02-21 13:04:26,599 ERROR [stderr] (default task-61) 	... 83 more
2021-02-21 13:04:26,600 ERROR [org.keycloak.services.resources.admin.RealmAdminResource] (default task-61) Failed to send email 
 javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
2021-02-21 21:54:28,828 WARN  [org.keycloak.events] (default task-61) type=REFRESH_TOKEN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_token, grant_type=refresh_token, client_auth_method=client-secret
2021-02-21 21:54:38,104 WARN  [org.keycloak.events] (default task-62) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/login-settings, code_id=6edc6037-7404-46a8-a2b8-324da2db3d36, username=admin, authSessionParentId=6edc6037-7404-46a8-a2b8-324da2db3d36, authSessionTabId=8E30wcTUL8U
2021-02-21 21:54:45,407 WARN  [org.keycloak.events] (default task-61) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/login-settings, code_id=6edc6037-7404-46a8-a2b8-324da2db3d36, username=admin, authSessionParentId=6edc6037-7404-46a8-a2b8-324da2db3d36, authSessionTabId=8E30wcTUL8U
2021-02-21 21:54:53,533 WARN  [org.keycloak.events] (default task-65) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/login-settings, code_id=6edc6037-7404-46a8-a2b8-324da2db3d36, username=admin, authSessionParentId=6edc6037-7404-46a8-a2b8-324da2db3d36, authSessionTabId=8E30wcTUL8U
2021-02-21 21:55:08,022 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0272: Suspending server
2021-02-21 21:55:08,035 INFO  [org.jboss.as.ejb3] (Thread-2) WFLYEJB0493: EJB subsystem suspension complete
2021-02-21 21:55:08,052 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested via an OS signal
2021-02-21 21:55:08,090 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 56) WFLYUT0022: Unregistered web context: '/auth' from server 'default-server'
2021-02-21 21:55:08,103 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/KeycloakDS]
2021-02-21 21:55:08,107 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]
2021-02-21 21:55:08,114 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0008: Undertow HTTPS listener https suspending
2021-02-21 21:55:08,119 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to 127.0.0.1:8443
2021-02-21 21:55:08,145 INFO  [org.keycloak.subsystem.server.extension.KeycloakProviderDeploymentProcessor] (MSC service thread 1-7) Undeploying Keycloak provider: worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar
2021-02-21 21:55:08,155 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0028: Stopped deployment worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar (runtime-name: worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar) in 90ms
2021-02-21 21:55:08,171 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]
2021-02-21 21:55:08,174 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0019: Stopped Driver service with driver-name = h2
2021-02-21 21:55:08,197 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0019: Host default-host stopping
2021-02-21 21:55:08,207 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment keycloak-server.war (runtime-name: keycloak-server.war) in 143ms
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 75) WFLYCLINF0003: Stopped authorization cache from keycloak container
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0003: Stopped keys cache from keycloak container
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 80) WFLYCLINF0003: Stopped loginFailures cache from keycloak container
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 74) WFLYCLINF0003: Stopped users cache from keycloak container
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0003: Stopped clientSessions cache from keycloak container
2021-02-21 21:55:08,216 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 79) WFLYCLINF0003: Stopped sessions cache from keycloak container
2021-02-21 21:55:08,217 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 73) WFLYCLINF0003: Stopped authenticationSessions cache from keycloak container
2021-02-21 21:55:08,217 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 71) WFLYCLINF0003: Stopped offlineSessions cache from keycloak container
2021-02-21 21:55:08,217 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 82) WFLYCLINF0003: Stopped offlineClientSessions cache from keycloak container
2021-02-21 21:55:08,218 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 81) WFLYCLINF0003: Stopped work cache from keycloak container
2021-02-21 21:55:08,220 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 76) WFLYCLINF0003: Stopped actionTokens cache from keycloak container
2021-02-21 21:55:08,236 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 77) WFLYCLINF0003: Stopped realms cache from keycloak container
2021-02-21 21:55:08,241 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 77) Stopping cache manager null on null
2021-02-21 21:55:08,243 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 72) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container
2021-02-21 21:55:08,245 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0008: Undertow HTTP listener default suspending
2021-02-21 21:55:08,246 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080
2021-02-21 21:55:08,252 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 77) Stopping cache manager null on null
2021-02-21 21:55:08,254 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0004: Undertow 2.2.2.Final stopping
2021-02-21 21:55:08,267 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0050: Keycloak 12.0.2 (WildFly Core 13.0.3.Final) stopped in 203ms
2021-02-21 21:55:32,654 INFO  [org.jboss.modules] (main) JBoss Modules version 1.10.2.Final
2021-02-21 21:55:37,210 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.12.Final
2021-02-21 21:55:37,283 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final
2021-02-21 21:55:37,498 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 12.0.2 (WildFly Core 13.0.3.Final) starting
2021-02-21 21:55:37,502 DEBUG [org.jboss.as.config] (MSC service thread 1-1) Configured system properties:
	awt.toolkit = sun.awt.windows.WToolkit
	file.encoding = Cp1252
	file.encoding.pkg = sun.io
	file.separator = \
	java.awt.graphicsenv = sun.awt.Win32GraphicsEnvironment
	java.awt.printerjob = sun.awt.windows.WPrinterJob
	java.class.path = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\jboss-modules.jar
	java.class.version = 52.0
	java.endorsed.dirs = C:\Program Files\Java\jre1.8.0_281\lib\endorsed
	java.ext.dirs = C:\Program Files\Java\jre1.8.0_281\lib\ext;C:\Windows\Sun\Java\lib\ext
	java.home = C:\Program Files\Java\jre1.8.0_281
	java.io.tmpdir = C:\Users\engos\AppData\Local\Temp\
	java.library.path = C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\Program Files\nodejs\;C:\Program Files\dotnet\;C:\Program Files\Git\cmd;C:\Program Files\Microsoft SQL Server\130\Tools\Binn\;C:\Program Files\Microsoft SQL Server\Client SDK\ODBC\170\Tools\Binn\;C:\Program Files (x86)\dotnet\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Users\engos\AppData\Local\Microsoft\WindowsApps;;C:\Users\engos\AppData\Local\Programs\Microsoft VS Code\bin;C:\Users\engos\AppData\Roaming\npm;C:\Users\engos\.dotnet\tools;.
	java.net.preferIPv4Stack = true
	java.runtime.name = Java(TM) SE Runtime Environment
	java.runtime.version = 1.8.0_281-b09
	java.specification.name = Java Platform API Specification
	java.specification.vendor = Oracle Corporation
	java.specification.version = 1.8
	java.util.logging.manager = org.jboss.logmanager.LogManager
	java.vendor = Oracle Corporation
	java.vendor.url = http://java.oracle.com/
	java.vendor.url.bug = http://bugreport.sun.com/bugreport/
	java.version = 1.8.0_281
	java.vm.info = mixed mode
	java.vm.name = Java HotSpot(TM) 64-Bit Server VM
	java.vm.specification.name = Java Virtual Machine Specification
	java.vm.specification.vendor = Oracle Corporation
	java.vm.specification.version = 1.8
	java.vm.vendor = Oracle Corporation
	java.vm.version = 25.281-b09
	javax.management.builder.initial = org.jboss.as.jmx.PluggableMBeanServerBuilder
	jboss.home.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2
	jboss.host.name = osamahassouna
	jboss.modules.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\modules
	jboss.modules.system.pkgs = org.jboss.byteman
	jboss.node.name = osamahassouna
	jboss.qualified.host.name = osamahassouna
	jboss.server.base.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone
	jboss.server.config.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\configuration
	jboss.server.data.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\data
	jboss.server.deploy.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\data\content
	jboss.server.log.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\log
	jboss.server.name = osamahassouna
	jboss.server.persist.config = true
	jboss.server.temp.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\tmp
	line.separator = 

	logging.configuration = file:F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\configuration/logging.properties
	module.path = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\modules
	org.jboss.boot.log.file = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\log\server.log
	org.jboss.resolver.warning = true
	os.arch = amd64
	os.name = Windows 10
	os.version = 10.0
	path.separator = ;
	program.name = standalone.bat
	sun.arch.data.model = 64
	sun.boot.class.path = C:\Program Files\Java\jre1.8.0_281\lib\resources.jar;C:\Program Files\Java\jre1.8.0_281\lib\rt.jar;C:\Program Files\Java\jre1.8.0_281\lib\sunrsasign.jar;C:\Program Files\Java\jre1.8.0_281\lib\jsse.jar;C:\Program Files\Java\jre1.8.0_281\lib\jce.jar;C:\Program Files\Java\jre1.8.0_281\lib\charsets.jar;C:\Program Files\Java\jre1.8.0_281\lib\jfr.jar;C:\Program Files\Java\jre1.8.0_281\classes
	sun.boot.library.path = C:\Program Files\Java\jre1.8.0_281\bin
	sun.cpu.endian = little
	sun.cpu.isalist = amd64
	sun.desktop = windows
	sun.io.unicode.encoding = UnicodeLittle
	sun.java.command = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\jboss-modules.jar -mp F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\modules org.jboss.as.standalone -Djboss.home.dir=F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2
	sun.java.launcher = SUN_STANDARD
	sun.jnu.encoding = Cp1252
	sun.management.compiler = HotSpot 64-Bit Tiered Compilers
	sun.os.patch.level = 
	sun.stderr.encoding = cp850
	sun.stdout.encoding = cp850
	user.country = GB
	user.dir = F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\bin
	user.home = C:\Users\engos
	user.language = en
	user.name = OsamaHassouna
	user.script = 
	user.timezone = Africa/Cairo
	user.variant = 
2021-02-21 21:55:37,503 DEBUG [org.jboss.as.config] (MSC service thread 1-1) VM Arguments: -Dprogram.name=standalone.bat -Xms64M -Xmx512M -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Dorg.jboss.boot.log.file=F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\log\server.log -Dlogging.configuration=file:F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\configuration/logging.properties 
2021-02-21 21:55:40,064 INFO  [org.wildfly.security] (ServerService Thread Pool -- 20) ELY00001: WildFly Elytron version 1.13.1.Final
2021-02-21 21:55:43,681 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
2021-02-21 21:55:43,705 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 26) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in a future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
2021-02-21 21:55:44,105 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)
2021-02-21 21:55:44,135 INFO  [org.xnio] (MSC service thread 1-6) XNIO version 3.8.2.Final
2021-02-21 21:55:44,145 INFO  [org.xnio.nio] (MSC service thread 1-6) XNIO NIO Implementation Version 3.8.2.Final
2021-02-21 21:55:44,283 INFO  [org.wildfly.extension.microprofile.metrics.smallrye] (ServerService Thread Pool -- 47) WFLYMETRICS0001: Activating Eclipse MicroProfile Metrics Subsystem
2021-02-21 21:55:44,286 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 53) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.
2021-02-21 21:55:44,288 INFO  [org.wildfly.extension.microprofile.health.smallrye] (ServerService Thread Pool -- 46) WFLYHEALTH0001: Activating Eclipse MicroProfile Health Subsystem
2021-02-21 21:55:44,288 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 48) WFLYNAM0001: Activating Naming Subsystem
2021-02-21 21:55:44,293 INFO  [org.wildfly.extension.microprofile.config.smallrye._private] (ServerService Thread Pool -- 45) WFLYCONF0001: Activating WildFly MicroProfile Config Subsystem
2021-02-21 21:55:44,294 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.23.Final)
2021-02-21 21:55:44,313 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 37) WFLYCLINF0001: Activating Infinispan subsystem.
2021-02-21 21:55:44,420 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 2.2.2.Final starting
2021-02-21 21:55:44,516 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 51) WFLYSEC0002: Activating Security Subsystem
2021-02-21 21:55:44,571 WARN  [org.wildfly.clustering.web.undertow] (ServerService Thread Pool -- 54) WFLYCLWEBUT0007: No routing provider found for default-server; using legacy provider based on static configuration
2021-02-21 21:55:44,574 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-00006
2021-02-21 21:55:44,697 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)
2021-02-21 21:55:44,787 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0018: Started Driver service with driver-name = h2
2021-02-21 21:55:44,955 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 54) WFLYUT0014: Creating file handler for path 'F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']
2021-02-21 21:55:45,097 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service
2021-02-21 21:55:45,098 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 38) WFLYIO001: Worker 'default' has auto-configured to 8 IO threads with 64 max task threads based on your 4 available processors
2021-02-21 21:55:45,129 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]
2021-02-21 21:55:45,169 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.
2021-02-21 21:55:45,185 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.
2021-02-21 21:55:45,189 INFO  [org.jboss.remoting] (MSC service thread 1-6) JBoss Remoting version 5.0.19.Final
2021-02-21 21:55:45,314 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0012: Started server default-server.
2021-02-21 21:55:45,347 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting
2021-02-21 21:55:45,436 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 39) WFLYRS0016: RESTEasy version 3.13.2.Final
2021-02-21 21:55:45,578 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080
2021-02-21 21:55:45,630 INFO  [org.jboss.as.ejb3] (MSC service thread 1-6) WFLYEJB0493: EJB subsystem suspension complete
2021-02-21 21:55:45,720 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]
2021-02-21 21:55:45,721 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/KeycloakDS]
2021-02-21 21:55:47,018 INFO  [org.jboss.as.patching] (MSC service thread 1-4) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none
2021-02-21 21:55:47,046 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-2) WFLYDM0111: Keystore F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\configuration\application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost
2021-02-21 21:55:47,053 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-3) WFLYDS0013: Started FileSystemDeploymentService for directory F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\deployments
2021-02-21 21:55:47,059 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" (runtime-name: "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar")
2021-02-21 21:55:47,059 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of "keycloak-server.war" (runtime-name: "keycloak-server.war")
2021-02-21 21:55:48,154 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443
2021-02-21 21:55:48,265 WARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-3) WFLYSRV0221: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a deprecated module ("javax.api") which may be removed in future versions without notice.
2021-02-21 21:55:48,267 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-3) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.apache.httpcomponents.core") which may be changed or removed in future versions without notice.
2021-02-21 21:55:48,269 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-3) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.keycloak.keycloak-server-spi-private") which may be changed or removed in future versions without notice.
2021-02-21 21:55:48,270 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-3) WFLYSRV0018: Deployment "deployment.worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" is using a private module ("org.keycloak.keycloak-services") which may be changed or removed in future versions without notice.
2021-02-21 21:55:48,276 INFO  [org.keycloak.subsystem.server.extension.KeycloakProviderDeploymentProcessor] (MSC service thread 1-8) Deploying Keycloak provider: worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar
2021-02-21 21:55:49,185 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 56) ISPN000128: Infinispan version: Infinispan 'Corona Extra' 11.0.4.Final
2021-02-21 21:55:49,232 INFO  [org.infinispan.CONFIG] (MSC service thread 1-4) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.
2021-02-21 21:55:49,234 INFO  [org.infinispan.CONFIG] (MSC service thread 1-4) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.
2021-02-21 21:55:49,390 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 57) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'
2021-02-21 21:55:49,392 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 56) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'
2021-02-21 21:55:49,838 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started http-remoting-connector cache from ejb container
2021-02-21 21:55:49,861 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0002: Started authenticationSessions cache from keycloak container
2021-02-21 21:55:49,861 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started offlineClientSessions cache from keycloak container
2021-02-21 21:55:49,862 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started loginFailures cache from keycloak container
2021-02-21 21:55:49,863 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started clientSessions cache from keycloak container
2021-02-21 21:55:49,863 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started actionTokens cache from keycloak container
2021-02-21 21:55:49,865 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started offlineSessions cache from keycloak container
2021-02-21 21:55:49,865 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started work cache from keycloak container
2021-02-21 21:55:49,866 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0002: Started sessions cache from keycloak container
2021-02-21 21:55:49,903 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 61) WFLYCLINF0002: Started authorization cache from keycloak container
2021-02-21 21:55:49,904 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0002: Started users cache from keycloak container
2021-02-21 21:55:49,904 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 67) WFLYCLINF0002: Started realms cache from keycloak container
2021-02-21 21:55:49,905 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0002: Started keys cache from keycloak container
2021-02-21 21:55:50,539 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0273: Excluded subsystem webservices via jboss-deployment-structure.xml does not exist.
2021-02-21 21:55:51,379 INFO  [org.keycloak.services] (ServerService Thread Pool -- 61) KC-SERVICES0001: Loading config from standalone.xml or domain.xml
2021-02-21 21:55:51,495 INFO  [org.keycloak.url.DefaultHostnameProviderFactory] (ServerService Thread Pool -- 61) Frontend: <request>, Admin: <frontend>, Backend: <request>
2021-02-21 21:55:52,329 WARN  [org.keycloak.services] (ServerService Thread Pool -- 61) KC-SERVICES0047: sms-authenticator (worldofss.keycloak.authenticator.SmsAuthenticatorFactory) is implementing the internal SPI authenticator. This SPI is internal and may change without notice
2021-02-21 21:55:52,364 WARN  [org.infinispan.encoding.impl.StorageConfigurationManager] (ServerService Thread Pool -- 61) ISPN000599: Configuration for cache 'realmRevisions' does not define the encoding for keys or values. If you use operations that require data conversion or queries, you should configure the cache with a specific MediaType for keys or values.
2021-02-21 21:55:52,369 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 61) WFLYCLINF0002: Started realmRevisions cache from keycloak container
2021-02-21 21:55:52,371 WARN  [org.infinispan.encoding.impl.StorageConfigurationManager] (ServerService Thread Pool -- 61) ISPN000599: Configuration for cache 'userRevisions' does not define the encoding for keys or values. If you use operations that require data conversion or queries, you should configure the cache with a specific MediaType for keys or values.
2021-02-21 21:55:52,374 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 61) WFLYCLINF0002: Started userRevisions cache from keycloak container
2021-02-21 21:55:52,375 WARN  [org.infinispan.encoding.impl.StorageConfigurationManager] (ServerService Thread Pool -- 61) ISPN000599: Configuration for cache 'authorizationRevisions' does not define the encoding for keys or values. If you use operations that require data conversion or queries, you should configure the cache with a specific MediaType for keys or values.
2021-02-21 21:55:52,378 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 61) WFLYCLINF0002: Started authorizationRevisions cache from keycloak container
2021-02-21 21:55:52,380 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (ServerService Thread Pool -- 61) Node name: osamahassouna, Site name: null
2021-02-21 21:55:53,853 INFO  [org.keycloak.connections.jpa.DefaultJpaConnectionProviderFactory] (ServerService Thread Pool -- 61) Database info: {databaseUrl=jdbc:h2:F:\Wofss\Keycloak\wssKeycloak\keycloak-12.0.2\standalone\data/keycloak, databaseUser=SA, databaseProduct=H2 1.4.197 (2018-03-18), databaseDriver=H2 JDBC Driver 1.4.197 (2018-03-18)}
2021-02-21 21:55:56,635 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 61) HHH000204: Processing PersistenceUnitInfo [
	name: keycloak-default
	...]
2021-02-21 21:55:56,833 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 61) HHH000412: Hibernate Core {5.3.20.Final}
2021-02-21 21:55:56,837 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 61) HHH000206: hibernate.properties not found
2021-02-21 21:55:57,284 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 61) HCANN000001: Hibernate Commons Annotations {5.0.5.Final}
2021-02-21 21:55:57,744 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 61) HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-21 21:55:57,786 WARN  [org.hibernate.dialect.H2Dialect] (ServerService Thread Pool -- 61) HHH000431: Unable to determine H2 database version, certain features may not work
2021-02-21 21:55:57,848 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 61) Envers integration enabled? : true
2021-02-21 21:55:58,913 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 61) HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
2021-02-21 21:55:59,028 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 61) HV000001: Hibernate Validator 6.0.21.Final
2021-02-21 21:56:01,078 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (ServerService Thread Pool -- 61) HHH000397: Using ASTQueryTranslatorFactory
2021-02-21 21:56:02,342 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,344 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,345 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,346 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,346 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,347 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,347 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,347 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,348 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,348 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 61) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication
2021-02-21 21:56:02,777 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0021: Registered web context: '/auth' for server 'default-server'
2021-02-21 21:56:03,033 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 33) WFLYSRV0010: Deployed "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar" (runtime-name : "worldofss-keycloak-wss-2fa-sms-1.0.0-SSO.jar")
2021-02-21 21:56:03,034 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 43) WFLYSRV0010: Deployed "keycloak-server.war" (runtime-name : "keycloak-server.war")
2021-02-21 21:56:03,138 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server
2021-02-21 21:56:03,141 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 12.0.2 (WildFly Core 13.0.3.Final) started in 37172ms - Started 632 of 911 services (588 services are lazy, passive or on-demand)
2021-02-21 21:56:03,143 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management
2021-02-21 21:56:03,144 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990
2021-02-21 21:57:36,244 WARN  [org.keycloak.events] (default task-2) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=tTm3M3Ic57w
2021-02-21 21:57:44,468 WARN  [org.keycloak.services] (default task-5) KC-SERVICES0013: Failed authentication: org.keycloak.authentication.AuthenticationFlowException: authenticator: sms-authenticator
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:441)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:253)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:389)
	at org.keycloak.authentication.DefaultAuthenticationFlow.continueAuthenticationAfterSuccessfulAction(DefaultAuthenticationFlow.java:186)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:164)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 21:57:44,507 WARN  [org.keycloak.events] (default task-5) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=eng.osama2021@gmail.com, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=tTm3M3Ic57w
2021-02-21 21:57:54,328 WARN  [org.keycloak.events] (default task-3) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=B-OamOaawJY
2021-02-21 21:58:10,697 ERROR [org.keycloak.services] (default task-6) KC-SERVICES0029: Failed to send email: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendPasswordReset(FreeMarkerEmailTemplateProvider.java:122)
	at org.keycloak.authentication.authenticators.resetcred.ResetCredentialEmail.authenticate(ResetCredentialEmail.java:101)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:446)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:253)
	at org.keycloak.authentication.DefaultAuthenticationFlow.continueAuthenticationAfterSuccessfulAction(DefaultAuthenticationFlow.java:184)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:164)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processResetCredentials(LoginActionsService.java:650)
	at org.keycloak.services.resources.LoginActionsService.resetCredentials(LoginActionsService.java:440)
	at org.keycloak.services.resources.LoginActionsService.resetCredentialsPOST(LoginActionsService.java:356)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 94 more

2021-02-21 21:58:10,725 ERROR [org.keycloak.services] (default task-6) KC-SERVICES0026: Failed to send password reset email: org.keycloak.email.EmailException: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:153)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:259)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:254)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:245)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.send(FreeMarkerEmailTemplateProvider.java:202)
	at org.keycloak.email.freemarker.FreeMarkerEmailTemplateProvider.sendPasswordReset(FreeMarkerEmailTemplateProvider.java:122)
	at org.keycloak.authentication.authenticators.resetcred.ResetCredentialEmail.authenticate(ResetCredentialEmail.java:101)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:446)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:253)
	at org.keycloak.authentication.DefaultAuthenticationFlow.continueAuthenticationAfterSuccessfulAction(DefaultAuthenticationFlow.java:184)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:164)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processResetCredentials(LoginActionsService.java:650)
	at org.keycloak.services.resources.LoginActionsService.resetCredentials(LoginActionsService.java:440)
	at org.keycloak.services.resources.LoginActionsService.resetCredentialsPOST(LoginActionsService.java:356)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)
Caused by: javax.mail.MessagingException: Could not convert socket to TLS;
  nested exception is:
	javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at javax.mail.Service.connect(Service.java:222)
	at javax.mail.Service.connect(Service.java:243)
	at org.keycloak.email.DefaultEmailSenderProvider.send(DefaultEmailSenderProvider.java:145)
	... 89 more
Caused by: javax.net.ssl.SSLHandshakeException: A potential protocol version downgrade attack
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.Alert.createSSLException(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.TransportContext.fatal(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.onServerHello(Unknown Source)
	at sun.security.ssl.ServerHello$ServerHelloConsumer.consume(Unknown Source)
	at sun.security.ssl.SSLHandshake.consume(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.HandshakeContext.dispatch(Unknown Source)
	at sun.security.ssl.TransportContext.dispatch(Unknown Source)
	at sun.security.ssl.SSLTransport.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.decode(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 94 more

2021-02-21 21:58:10,750 WARN  [org.keycloak.events] (default task-6) type=SEND_RESET_PASSWORD_ERROR, realmId=master, clientId=security-admin-console, userId=9606228d-3bf6-49db-9932-50c6e62abf47, ipAddress=127.0.0.1, error=email_send_failed, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=ohassouna@worldofss.com, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=B-OamOaawJY
2021-02-21 21:58:21,029 WARN  [org.keycloak.events] (default task-2) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=UEA, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=C1udy0KTkjc
2021-02-21 21:58:24,098 WARN  [org.keycloak.events] (default task-6) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=C1udy0KTkjc
2021-02-21 21:58:28,675 WARN  [org.keycloak.services] (default task-1) KC-SERVICES0013: Failed authentication: org.keycloak.authentication.AuthenticationFlowException: authenticator: sms-authenticator
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:441)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processFlow(DefaultAuthenticationFlow.java:253)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processSingleFlowExecutionModel(DefaultAuthenticationFlow.java:389)
	at org.keycloak.authentication.DefaultAuthenticationFlow.continueAuthenticationAfterSuccessfulAction(DefaultAuthenticationFlow.java:186)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:164)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 21:58:28,690 WARN  [org.keycloak.events] (default task-1) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=eng.lastace2021@yahoo.com, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=C1udy0KTkjc
2021-02-21 21:58:55,280 WARN  [org.keycloak.events] (default task-6) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=qi0QZfjUdeA
2021-02-21 21:59:06,337 WARN  [org.keycloak.events] (default task-6) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=qi0QZfjUdeA
2021-02-21 22:00:16,005 WARN  [org.keycloak.events] (default task-1) type=REGISTER_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=email_in_use, auth_method=openid-connect, auth_type=code, register_method=form, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, email=ohassouna@worldofss.com, username=ohassouna@worldofss.com, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=qi0QZfjUdeA
2021-02-21 22:00:27,066 WARN  [org.keycloak.events] (default task-3) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=user_not_found, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=3dda6663-eebd-4bfa-9179-2fbf31006688, username=admin, authSessionParentId=3dda6663-eebd-4bfa-9179-2fbf31006688, authSessionTabId=qi0QZfjUdeA
2021-02-21 22:00:42,927 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-3) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 1744.
2021-02-21 22:15:07,259 INFO  [org.keycloak.protocol.oidc.endpoints.AuthorizationEndpoint] (default task-9) PKCE enforced Client code challenge method is not configured one.
2021-02-21 22:15:07,261 WARN  [org.keycloak.events] (default task-9) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_request, response_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master/theme-settings, response_mode=fragment
2021-02-21 22:15:25,304 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-12) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: ?????? ?????? ???? ??? ?????? 0568  
2021-02-21 22:22:43,830 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-9) Uncaught server error: java.lang.UnsupportedOperationException
	at java.util.Collections$UnmodifiableMap.putAll(Unknown Source)
	at org.keycloak.models.jpa.RealmAdapter.patchRealmLocalizationTexts(RealmAdapter.java:2236)
	at org.keycloak.models.cache.infinispan.RealmAdapter.patchRealmLocalizationTexts(RealmAdapter.java:1651)
	at org.keycloak.services.resources.admin.RealmLocalizationResource.patchRealmLocalizationTextsFromFile(RealmLocalizationResource.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 22:22:56,234 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-9) Uncaught server error: java.lang.UnsupportedOperationException
	at java.util.Collections$UnmodifiableMap.putAll(Unknown Source)
	at org.keycloak.models.jpa.RealmAdapter.patchRealmLocalizationTexts(RealmAdapter.java:2236)
	at org.keycloak.models.cache.infinispan.RealmAdapter.patchRealmLocalizationTexts(RealmAdapter.java:1651)
	at org.keycloak.services.resources.admin.RealmLocalizationResource.patchRealmLocalizationTextsFromFile(RealmLocalizationResource.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:110)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:141)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 22:26:09,413 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-16) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 2241.
2021-02-21 22:28:40,644 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-18) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: ?????? ?????? ???? ??? ?????? 2028  
2021-02-21 22:30:59,174 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-19) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 2248.
2021-02-21 22:44:21,046 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-19) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 1867.
2021-02-21 22:53:42,709 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-21) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 6646.
2021-02-21 22:53:58,475 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-21) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 8155.
2021-02-21 22:54:02,590 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-22) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 6266.
2021-02-21 22:54:15,590 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-24) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 8175.
2021-02-21 22:56:18,809 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-22) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 7635.
2021-02-21 22:56:22,575 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-22) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 0137.
2021-02-21 22:56:28,659 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-22) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 8217.
2021-02-21 22:56:41,362 WARN  [org.keycloak.services] (default task-26) KC-SERVICES0013: Failed authentication: java.lang.NullPointerException
	at worldofss.keycloak.authenticator.SmsAuthenticator.action(SmsAuthenticator.java:75)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:161)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.GeneratedMethodAccessor667.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 22:56:41,380 WARN  [org.keycloak.events] (default task-26) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/#/realms/master, code_id=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionParentId=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionTabId=Y3pR6gQRGvI
2021-02-21 22:56:51,078 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-25) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 1573.
2021-02-21 22:57:04,401 WARN  [org.keycloak.services] (default task-25) KC-SERVICES0013: Failed authentication: java.lang.NullPointerException
	at worldofss.keycloak.authenticator.SmsAuthenticator.action(SmsAuthenticator.java:75)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:161)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.GeneratedMethodAccessor667.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 22:57:04,422 WARN  [org.keycloak.events] (default task-25) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionParentId=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionTabId=FvL9NLT6T-M
2021-02-21 22:57:44,802 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-23) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 6540.
2021-02-21 22:58:03,289 WARN  [org.keycloak.services] (default task-25) KC-SERVICES0013: Failed authentication: java.lang.NullPointerException
	at worldofss.keycloak.authenticator.SmsAuthenticator.action(SmsAuthenticator.java:75)
	at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:161)
	at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:937)
	at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:311)
	at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:282)
	at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:266)
	at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:339)
	at sun.reflect.GeneratedMethodAccessor667.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)
	at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:543)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:432)
	at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:393)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:395)
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:364)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:150)
	at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:104)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)
	at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)
	at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)
	at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.lambda$doFilter$0(WildFlyRequestFilter.java:41)
	at org.keycloak.services.filters.AbstractRequestFilter.filter(AbstractRequestFilter.java:43)
	at org.keycloak.provider.wildfly.WildFlyRequestFilter.doFilter(WildFlyRequestFilter.java:39)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)
	at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)
	at java.lang.Thread.run(Unknown Source)

2021-02-21 22:58:03,309 WARN  [org.keycloak.events] (default task-25) type=LOGIN_ERROR, realmId=master, clientId=security-admin-console, userId=null, ipAddress=127.0.0.1, error=invalid_user_credentials, auth_method=openid-connect, auth_type=code, redirect_uri=http://localhost:8080/auth/admin/master/console/, code_id=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionParentId=6efa392a-0be3-4078-b3c3-cd683b77bb31, authSessionTabId=FvL9NLT6T-M
2021-02-21 22:59:02,655 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-25) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 0432.
2021-02-21 22:59:51,530 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-28) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 6423.
2021-02-21 23:02:20,995 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-27) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 8313.
2021-02-21 23:02:32,318 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-27) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 1475.
2021-02-21 23:05:45,205 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-29) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 1853.
2021-02-21 23:06:56,181 WARN  [worldofss.keycloak.authenticator.gateway.SmsServiceFactory] (default task-29) ***** SIMULATION MODE ***** Would send SMS to 00201008994748 with text: Your SMS code is 7050.
